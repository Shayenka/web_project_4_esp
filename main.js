!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var n=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var n,r;return n=e,(r=[{key:"renderItems",value:function(){var e=this;this._initialArray.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}},{key:"addItemToStart",value:function(e){this._container.prepend(e)}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.authorization="3270d03d-8b4c-49a2-869b-f096d27af6a5"}var t,n;return t=e,(n=[{key:"_useFetch",value:function(e,t,n){return fetch(e,{headers:{authorization:this.authorization,"Content-Type":"application/json"},method:t,body:JSON.stringify(n)}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getUserInfo",value:function(){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/users/me","GET").then((function(e){return e}))}},{key:"getCards",value:function(){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/cards","GET").then((function(e){return e}))}},{key:"editUserInfo",value:function(e){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/users/me","PATCH",e).then((function(e){return e}))}},{key:"addNewCard",value:function(e){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/cards","POST",e).then((function(e){return e}))}},{key:"addLike",value:function(e){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/cards/likes/".concat(e),"PUT").then((function(e){return console.log(e),e.likes}))}},{key:"removeLike",value:function(e){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/cards/likes/".concat(e),"DELETE").then((function(e){return e.likes}))}},{key:"deleteCard",value:function(e){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/cards/".concat(e),"DELETE").then((function(e){return e}))}},{key:"changeAvatarProfile",value:function(e){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/users/me/avatar","PATCH",e).then((function(e){return e}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),u=document.querySelector("#templateCard"),c=(document.querySelector(".popup_closed"),document.querySelector(".profile__edit")),a=document.querySelector(".popup__close-icon"),l=document.querySelector("#name"),s=document.querySelector("#about"),p=document.querySelector(".profile__name"),f=document.querySelector(".profile__occupation"),d=(document.querySelector(".popup__button"),document.querySelector("#changeAvatar")),y=document.querySelector("#closePopupAvatar"),m=document.querySelector(".profile__avatar"),_=document.querySelector("#linkAvatar"),v=document.querySelector(".profile__image"),h=(document.querySelector(".popup_closed-element"),document.querySelector("#addButton")),b=document.querySelector(".popup__close-icon_element"),S=(document.querySelector("#cardButton"),document.querySelector("#titulo")),g=document.querySelector("#enlace"),w=(document.querySelector(".elements"),document.querySelectorAll(".element__image"),document.querySelector(".image-show__close-icon"),document.querySelector("#popupImage"),document.querySelector(".image-show__popup"),document.querySelector(".image-show__title"),document.querySelector("#popupDeleteCard")),E=document.querySelector("#ClosePopupDeleteCard"),k=document.querySelector("#buttonDeleteCard"),C=(document.querySelectorAll(".popup"),document.querySelectorAll(".popup__button"));function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===P(o)?o:String(o)),r)}var o}var L=function(){function e(t,n,r,o){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._likes=t.likes.length,this._cardId=t._id,this._likeCard=this._likeCard.bind(this),this._handleCardClick=r,this._handleDeleteCard=o,this._userId=t.owner._id,this._cardSelector=n,this._api=new i,this._liked=t.likes.some((function(e){return e._id===u._userId}))}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return u.cloneNode(!0).content.querySelector(this._cardSelector)}},{key:"_likeCard",value:function(e){var t=this;this._liked?this._api.removeLike(e).then((function(e){console.log(e),t._liked=e.some((function(e){return e._id===t._userId})),t._likeButton.classList.remove("icon-like_black"),t._cardLikesCount.textContent=e.length})).catch((function(e){return console.log("Error al remover like: ".concat(e))})):this._api.addLike(e).then((function(e){console.log(e),t._liked=e.some((function(e){return e._id===t._userId})),t._likeButton.classList.add("icon-like_black"),t._cardLikesCount.textContent=e.length})).catch((function(e){return console.log("Error al aÃ±adir like: ".concat(e))}))}},{key:"_setEventsListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){return e._likeCard(e._cardId)})),"93de6497062267393a34f6f4"===this._userId?this._buttonDelete.addEventListener("click",(function(){return e._handleDeleteCard(e._cardId,e._cardElement)})):this._buttonDelete.remove(),this._cardImage.addEventListener("click",(function(){return e._handleCardClick(e._link,e._name)}))}},{key:"_setCardProperties",value:function(){this._cardImage=this._cardElement.querySelector(".element__image"),this._cardImage.src=this._link,this._cardTitle=this._cardElement.querySelector(".element__title"),this._cardTitle.textContent=this._name,this._cardImage.alt=this._name,this._buttonDelete=this._cardElement.querySelector(".element__delete"),this._likeButton=this._cardElement.querySelector(".icon-like"),this._cardLikesCount=this._cardElement.querySelector(".likes-card__count"),this._cardLikesCount.textContent=this._likes}},{key:"generateCard",value:function(){return this._cardElement=this._getTemplate(),this._setCardProperties(),this._setEventsListeners(),this._cardElement}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===O(o)?o:String(o)),r)}var o}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.remove("popup_closed"),document.addEventListener("keydown",this._handleEscClose,!0)}},{key:"close",value:function(){this._popupElement.classList.add("popup_closed"),document.removeEventListener("keydown",this._handleEscClose,!1)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){e._closePopupOutSide(t)}))}},{key:"_closePopupOutSide",value:function(e){e.target.classList.contains("popup")&&this.close()}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===T(o)?o:String(o)),r)}var o}function V(){return V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},V.apply(this,arguments)}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(o){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._popupElement=document.querySelector(e),n._inputList=n._popupElement.querySelectorAll(".popup__text"),n._handleFormSubmit=t,n._getInputValues=n._getInputValues.bind(B(n)),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;V(R(u.prototype),"setEventListeners",this).call(this),this._popupElement.addEventListener("submit",(function(t){t.preventDefault();var n=e._getInputValues();e._handleFormSubmit(n),t.target.querySelector(".popup__button").textContent="Cargando...",console.log("como estas?")}))}},{key:"close",value:function(){V(R(u.prototype),"close",this).call(this),this._popupElement.reset()}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(I);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==U(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===U(o)?o:String(o)),r)}var o}var N=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=t,this._userJob=n,this._userAvatar=document.querySelector(".profile__image")}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{userName:this._userName.textContent,userJob:this._userJob.textContent}}},{key:"setUserInfo",value:function(e){this._userName.textContent=e.name,this._userJob.textContent=e.about,this._userAvatar.src=e.avatar}}])&&F(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}function z(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function H(e,t,n){return(t=M(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){var t=function(e,t){if("object"!==J(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===J(t)?t:String(t)}var K=z((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),H(this,"_showInputError",(function(e,t,r){var o=e.querySelector("#".concat(t.id,"-error"));t.classList.add(n._enableValidation.inputErrorClass),o.textContent=r,o.classList.add(n._enableValidation.errorClass)})),H(this,"_hideInputError",(function(e,t){var r=e.querySelector("#".concat(t.id,"-error"));t.classList.remove(n._enableValidation.inputErrorClass),r.classList.remove(n._enableValidation.errorClass),r.textContent=""})),H(this,"_checkInputValidity",(function(e,t){t.validity.valid?n._hideInputError(e,t):n._showInputError(e,t,t.validationMessage)})),H(this,"_hasInvalidInput",(function(e){return e.some((function(e){return!e.validity.valid}))})),H(this,"_toggleButtonState",(function(e,t){n._hasInvalidInput(e)?(t.classList.add(n._enableValidation.inactiveButtonClass),t.disabled=!0):(t.classList.remove(n._enableValidation.inactiveButtonClass),t.disabled=!1)})),H(this,"_setEventListeners",(function(e){var t=Array.from(e.querySelectorAll(n._enableValidation.inputSelector)),r=e.querySelector(n._enableValidation.submitButtonSelector);t.forEach((function(o){o.addEventListener("input",(function(){n._checkInputValidity(e,o),n._toggleButtonState(t,r)}))}))})),H(this,"enableValidation",(function(){Array.from(document.querySelectorAll(n._enableValidation.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),n._setEventListeners(e)}))})),this._enableValidation=t}));function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Q(o)?o:String(o)),r)}var o}function X(){return X="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Z(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},X.apply(this,arguments)}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Z(r);if(o){var n=Z(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupElement=document.querySelector(e),t._popupImage=t._popupElement.querySelector(".image-show__popup"),t._popupTitle=t._popupElement.querySelector(".image-show__title"),t._buttonClose=t._popupElement.querySelector(".image-show__close-icon"),t._buttonClose.addEventListener("click",(function(){return t.close()})),t._popupElement.addEventListener("click",(function(){return t.close()})),t}return t=u,(n=[{key:"open",value:function(e,t){this._popupImage.src=e,this._popupImage.alt=t,this._popupTitle.textContent=t,X(Z(u.prototype),"open",this).call(this)}}])&&W(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(I),ee=new N(p,f),te=new i;function ne(e,t){new $("#popupImage").open(e,t)}function re(e,t){w.classList.remove("popup_closed"),k.addEventListener("click",(function(){t.remove(),(new i).deleteCard(e).then((function(t){console.log("Tarjeta con id ".concat(e," eliminada"))})).catch((function(t){console.log("Error al eliminar tarjeta con id ".concat(e,": ").concat(t))})),w.classList.add("popup_closed")}))}te.getUserInfo().then((function(e){ee.setUserInfo(e)})).catch((function(e){console.log(e)})),te.getCards().then((function(e){var t=new n({items:e,renderer:function(e){var n=new L(e,".element",ne,re).generateCard();t.addItem(n)}},".elements");t.renderItems()})).catch((function(e){console.log(e)})),E.addEventListener("click",(function(){w.classList.add("popup_closed")}));var oe=new D("#addCard",(function(){var e={name:S.value,link:g.value};(new i).addNewCard(e).then((function(e){var t=new L(e,".element",ne,re).generateCard(),r=new n({items:[],renderer:function(e){r.addItem(e)}},".elements");r.addItemToStart(t)})).catch((function(e){console.log(e)})).finally((function(){console.log(C),C.textContent="Guardar",oe.close()}))}));oe.setEventListeners(),h.addEventListener("click",(function(){oe.open()})),b.addEventListener("click",(function(){oe.close()}));var ie=new D("#editProfile",(function(){var e={name:l.value,about:s.value};(new i).editUserInfo(e).then((function(e){ee.setUserInfo(e)})).catch((function(e){console.log(e)})).finally((function(){C.textContent="Guardar",ie.close()}))}));ie.setEventListeners(),c.addEventListener("click",(function(){var e=ee.getUserInfo();l.value=e.userName,s.value=e.userJob,ie.open()})),a.addEventListener("click",(function(){ie.close()})),m.addEventListener("click",(function(){d.classList.remove("popup_closed")})),y.addEventListener("click",(function(){d.classList.add("popup_closed")}));var ue=new D("#changeAvatar",(function(){var e={avatar:_.value};(new i).changeAvatarProfile(e).then((function(e){ee.setUserInfo(e),v.src=e.avatar,ee.setUserInfo(e)})).then((function(){ue.close()})).catch((function(e){console.log(e)})).finally((function(){C.textContent="Guardar"}))}));ue.setEventListeners(),new K({formSelector:"#editProfile",inputSelector:".popup__text",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__text_error",errorClass:"popup__input-error"}).enableValidation(),new K({formSelector:"#addCard",inputSelector:".popup__text",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__text_error",errorClass:"popup__input-error"}).enableValidation(),new K({formSelector:"#changeAvatar",inputSelector:".popup__text",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__text_error",errorClass:"popup__input-error"}).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFlBQWMsU0FDckMsR0FDSixJQUdBZ0gsR0FBVUosb0JBR21CLElBQUl4RCxFQUFjLENBQzdDMkIsYUFBYyxlQUNkSCxjQUFlLGVBQ2YzRyxxQkFBc0IsaUJBQ3RCdUcsb0JBQXFCLHlCQUNyQlYsZ0JBQWlCLG9CQUNqQkMsV0FBWSx1QkFHT1QsbUJBR1EsSUFBSUYsRUFBYyxDQUM3QzJCLGFBQWMsV0FDZEgsY0FBZSxlQUNmM0cscUJBQXNCLGlCQUN0QnVHLG9CQUFxQix5QkFDckJWLGdCQUFpQixvQkFDakJDLFdBQVksdUJBR09ULG1CQUdhLElBQUlGLEVBQWMsQ0FDbEQyQixhQUFjLGdCQUNkSCxjQUFlLGVBQ2YzRyxxQkFBc0IsaUJBQ3RCdUcsb0JBQXFCLHlCQUNyQlYsZ0JBQWlCLG9CQUNqQkMsV0FBWSx1QkFHWVQsa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3Jtcy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3BhZ2UvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2luaXRpYWxBcnJheSA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuXHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faW5pdGlhbEFycmF5LmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW1Ub1N0YXJ0KGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5hdXRob3JpemF0aW9uID0gXCIzMjcwZDAzZC04YjRjLTQ5YTItODY5Yi1mMDk2ZDI3YWY2YTVcIjtcclxuICB9XHJcblxyXG4gIF91c2VGZXRjaCh1cmwsIG1ldGhvZCwgYm9keSkge1xyXG4gICAgcmV0dXJuIGZldGNoKHVybCwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5hdXRob3JpemF0aW9uLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBtZXRob2QsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3VzZUZldGNoKFxyXG4gICAgICBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzA1L3VzZXJzL21lXCIsXHJcbiAgICAgIGBHRVRgXHJcbiAgICApLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRDYXJkcygpIHtcclxuICAgIHJldHVybiB0aGlzLl91c2VGZXRjaChcclxuICAgICAgXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wNS9jYXJkc1wiLFxyXG4gICAgICBgR0VUYFxyXG4gICAgKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZWRpdFVzZXJJbmZvKHVzZXJEYXRhKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdXNlRmV0Y2goXHJcbiAgICAgIFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfZXNfMDUvdXNlcnMvbWVcIixcclxuICAgICAgYFBBVENIYCxcclxuICAgICAgdXNlckRhdGFcclxuICAgICkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZE5ld0NhcmQoY2FyZERhdGEpIHtcclxuICAgIHJldHVybiB0aGlzLl91c2VGZXRjaChcclxuICAgICAgXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wNS9jYXJkc1wiLFxyXG4gICAgICBgUE9TVGAsXHJcbiAgICAgIGNhcmREYXRhXHJcbiAgICApLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3VzZUZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfZXNfMDUvY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCxcclxuICAgICAgYFBVVGBcclxuICAgICkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgIHJldHVybiByZXN1bHQubGlrZXM7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdXNlRmV0Y2goXHJcbiAgICAgIGBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wNS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLFxyXG4gICAgICBgREVMRVRFYFxyXG4gICAgKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5saWtlcztcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiB0aGlzLl91c2VGZXRjaChcclxuICAgICAgYGh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzA1L2NhcmRzLyR7Y2FyZElkfWAsXHJcbiAgICAgIGBERUxFVEVgXHJcbiAgICApLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VBdmF0YXJQcm9maWxlKHVzZXJBdmF0YXIpIHtcclxuICAgIHJldHVybiB0aGlzLl91c2VGZXRjaChcclxuICAgICAgXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wNS91c2Vycy9tZS9hdmF0YXJcIixcclxuICAgICAgYFBBVENIYCxcclxuICAgICAgdXNlckF2YXRhclxyXG4gICAgKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCIvL1ZhcmlhYmxlIHBhcmEgZ2VuZXJhciBjYXJkXHJcbmNvbnN0IHRlbXBsYXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGVtcGxhdGVDYXJkXCIpO1xyXG5cclxuLy9WYXJpYWJsZXMgcGFyYSBhYnJpci9jZXJyYXIgdmVudGFuYSBwYXJhIGVkaXRhciBwZXJmaWxcclxuY29uc3QgZm9ybUVsZW1lbnRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9jbG9zZWRcIik7XHJcbmNvbnN0IGJ1dHRvbkVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0XCIpO1xyXG5jb25zdCBidXR0b25DbG9zZVBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWljb25cIik7XHJcblxyXG4vL1ZhcmlhYmxlcyBwYXJhIGFjdHVhbGl6YXIgZGF0b3MgZW4gbGEgdmVudGFuYSBkZWwgcGVyZmlsXHJcbmNvbnN0IGlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKTtcclxuY29uc3QgaW5wdXRBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWJvdXRcIik7XHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlT2NjdXBhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fb2NjdXBhdGlvblwiKTtcclxuY29uc3QgYnV0dG9uU3VibWl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcclxuXHJcbi8vVmFyaWFibGVzIHBvcHVwIGF2YXRhclxyXG5jb25zdCBwb3B1cEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hhbmdlQXZhdGFyXCIpO1xyXG5jb25zdCBjbG9zZVBvcHVwQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjbG9zZVBvcHVwQXZhdGFyXCIpO1xyXG5jb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XHJcbmNvbnN0IGlucHV0TGlua0F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGlua0F2YXRhclwiKTtcclxuY29uc3QgcHJvZmlsZUF2YXRhckltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcclxuXHJcbi8vVmFyaWFibGVzIHBhcmEgYWJyaXIvY2VycmFyIHZlbnRhbmEgcGFyYSBhZ3JlZ2FyIGNhcmRcclxuY29uc3QgZm9ybUVsZW1lbnRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9jbG9zZWQtZWxlbWVudFwiKTtcclxuY29uc3QgYnV0dG9uQWRkQ2FyZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGRCdXR0b25cIik7XHJcbmNvbnN0IGJ1dHRvbkNsb3NlQ2FyZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wb3B1cF9fY2xvc2UtaWNvbl9lbGVtZW50XCJcclxuKTtcclxuXHJcbi8vVmFyaWFibGVzIHBhcmEgYWdyZWdhciBjYXJkXHJcbmNvbnN0IGJ1dHRvbkFkZENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRCdXR0b25cIik7XHJcbmNvbnN0IGlucHV0VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RpdHVsb1wiKTtcclxuY29uc3QgaW5wdXRMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlbmxhY2VcIik7XHJcbmNvbnN0IGVsZW1lbnRzQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XHJcblxyXG4vL1ZhcmlhYmxlcyBwYXJhIGFtcGxpYXIgY2FyZFxyXG5jb25zdCBpbWFnZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5lbGVtZW50X19pbWFnZVwiKTtcclxuY29uc3QgYnV0dG9uQ2xvc2VJbWFnZVNob3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXNob3dfX2Nsb3NlLWljb25cIik7XHJcbmNvbnN0IHBvcHVwSW1hZ2VTaG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cEltYWdlXCIpO1xyXG5jb25zdCBpbWFnZVNob3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXNob3dfX3BvcHVwXCIpO1xyXG5jb25zdCBpbWFnZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXNob3dfX3RpdGxlXCIpO1xyXG5cclxuLy9WYXJpYWJsZXMgcGFyYSBwb3B1cCBlbGltaW5hciBjYXJkXHJcbmNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXBEZWxldGVDYXJkXCIpO1xyXG5jb25zdCBidXR0b25DbG9zZVBvcHVwRGVsZXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNDbG9zZVBvcHVwRGVsZXRlQ2FyZFwiKTtcclxuY29uc3QgYnV0dG9uRGVsZXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnV0dG9uRGVsZXRlQ2FyZFwiKTtcclxuXHJcbi8vVmFyaWFibGUgcGFyYSBjZXJyYXIgbGEgdmVudGFuYSBlbWVyZ2VudGUgaGFjaWVuZG8gY2xpYyBlbiBzdXBlcnBvc2ljacOzbi9wdWxzYW5kbyBFc2NcclxuY29uc3QgcG9wdXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cFwiKTtcclxuXHJcbi8vVmFyaWFibGUgcGFyYSBlbnZpYXIgZm9ybXVsYXJpb1xyXG5jb25zdCBzdWJtaXRCdXR0b25TZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2J1dHRvblwiKTtcclxuXHJcbi8vVmFyaWFibGUgaWRlbnRpZmljYWRvciB1c3VhcmlvIHBlcmZpbFxyXG5jb25zdCB1c2VyUHJvZmlsZUlkID0gXCI5M2RlNjQ5NzA2MjI2NzM5M2EzNGY2ZjRcIjtcclxuXHJcbmV4cG9ydCB7XHJcbiAgdGVtcGxhdGVDYXJkLFxyXG4gIGZvcm1FbGVtZW50UHJvZmlsZSxcclxuICBidXR0b25FZGl0UHJvZmlsZSxcclxuICBidXR0b25DbG9zZVBvcHVwUHJvZmlsZSxcclxuICBwb3B1cHMsXHJcbiAgaW5wdXROYW1lLFxyXG4gIGlucHV0QWJvdXQsXHJcbiAgcHJvZmlsZU5hbWUsXHJcbiAgcHJvZmlsZU9jY3VwYXRpb24sXHJcbiAgYnV0dG9uU3VibWl0UHJvZmlsZSxcclxuICBmb3JtRWxlbWVudENhcmQsXHJcbiAgYnV0dG9uQWRkQ2FyZFBvcHVwLFxyXG4gIGJ1dHRvbkNsb3NlQ2FyZFBvcHVwLFxyXG4gIGJ1dHRvbkFkZENhcmQsXHJcbiAgaW5wdXRUaXRsZSxcclxuICBpbnB1dExpbmssXHJcbiAgZWxlbWVudHNDYXJkLFxyXG4gIGJ1dHRvbkNsb3NlSW1hZ2VTaG93LFxyXG4gIHBvcHVwSW1hZ2VTaG93LFxyXG4gIGltYWdlU2hvdyxcclxuICBpbWFnZVRleHQsXHJcbiAgaW1hZ2VDYXJkcyxcclxuICBwcm9maWxlQXZhdGFyLFxyXG4gIGNsb3NlUG9wdXBBdmF0YXIsXHJcbiAgcG9wdXBBdmF0YXIsXHJcbiAgcG9wdXBEZWxldGVDYXJkLFxyXG4gIGJ1dHRvbkNsb3NlUG9wdXBEZWxldGUsXHJcbiAgYnV0dG9uRGVsZXRlQ2FyZCxcclxuICBpbnB1dExpbmtBdmF0YXIsXHJcbiAgcHJvZmlsZUF2YXRhckltYWdlLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yLFxyXG4gIHVzZXJQcm9maWxlSWQsXHJcbn07XHJcbiIsImltcG9ydCBBcGkgZnJvbSBcIi4vQXBpLmpzXCI7XHJcbmltcG9ydCB7IHRlbXBsYXRlQ2FyZCwgdXNlclByb2ZpbGVJZCB9IGZyb20gXCIuL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZURlbGV0ZUNhcmQpIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzLmxlbmd0aDtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fbGlrZUNhcmQgPSB0aGlzLl9saWtlQ2FyZC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7XHJcbiAgICB0aGlzLl91c2VySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuXHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9hcGkgPSBuZXcgQXBpKCk7XHJcbiAgICB0aGlzLl9saWtlZCA9IGRhdGEubGlrZXMuc29tZSgoaXRlbSkgPT4ge1xyXG4gICAgICByZXR1cm4gaXRlbS5faWQgPT09IHRoaXMuX3VzZXJJZDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgdGVtcGxhdGVFbGVtZW50ID0gdGVtcGxhdGVDYXJkXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSlcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpO1xyXG5cclxuICAgIHJldHVybiB0ZW1wbGF0ZUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICB0aGlzLl9saWtlZFxyXG4gICAgICA/IHRoaXMuX2FwaVxyXG4gICAgICAgICAgLnJlbW92ZUxpa2UoY2FyZElkKVxyXG4gICAgICAgICAgLnRoZW4oKGxpa2VzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGxpa2VzKTtcclxuICAgICAgICAgICAgdGhpcy5fbGlrZWQgPSBsaWtlcy5zb21lKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uX2lkID09PSB0aGlzLl91c2VySWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaWNvbi1saWtlX2JsYWNrXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fY2FyZExpa2VzQ291bnQudGV4dENvbnRlbnQgPSBsaWtlcy5sZW5ndGg7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGBFcnJvciBhbCByZW1vdmVyIGxpa2U6ICR7ZXJyfWApKVxyXG4gICAgICA6IHRoaXMuX2FwaVxyXG4gICAgICAgICAgLmFkZExpa2UoY2FyZElkKVxyXG4gICAgICAgICAgLnRoZW4oKGxpa2VzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGxpa2VzKTtcclxuICAgICAgICAgICAgdGhpcy5fbGlrZWQgPSBsaWtlcy5zb21lKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uX2lkID09PSB0aGlzLl91c2VySWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiaWNvbi1saWtlX2JsYWNrXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fY2FyZExpa2VzQ291bnQudGV4dENvbnRlbnQgPSBsaWtlcy5sZW5ndGg7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGBFcnJvciBhbCBhw7FhZGlyIGxpa2U6ICR7ZXJyfWApKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudHNMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gICAgICB0aGlzLl9saWtlQ2FyZCh0aGlzLl9jYXJkSWQpXHJcbiAgICApO1xyXG4gICAgaWYgKHRoaXMuX3VzZXJJZCA9PT0gdXNlclByb2ZpbGVJZCkge1xyXG4gICAgICB0aGlzLl9idXR0b25EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzLl9jYXJkSWQsIHRoaXMuX2NhcmRFbGVtZW50KVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRGVsZXRlLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX2xpbmssIHRoaXMuX25hbWUpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX3NldENhcmRQcm9wZXJ0aWVzKCkge1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190aXRsZVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2J1dHRvbkRlbGV0ZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaWNvbi1saWtlXCIpO1xyXG4gICAgdGhpcy5fY2FyZExpa2VzQ291bnQgPVxyXG4gICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpa2VzLWNhcmRfX2NvdW50XCIpO1xyXG4gICAgdGhpcy5fY2FyZExpa2VzQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcztcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX3NldENhcmRQcm9wZXJ0aWVzKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudHNMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfY2xvc2VkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX2Nsb3NlZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlLCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICB0aGlzLl9jbG9zZVBvcHVwT3V0U2lkZShldnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfY2xvc2VQb3B1cE91dFNpZGUoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybXMgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX3RleHRcIik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2dldElucHV0VmFsdWVzID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKFxyXG4gICAgICAoaW5wdXQpID0+ICh0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWUpXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3QgZm9ybURhdGEgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KGZvcm1EYXRhKTtcclxuICAgICAgZXZ0LnRhcmdldC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIikudGV4dENvbnRlbnQgPSBcIkNhcmdhbmRvLi4uXCI7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiY29tbyBlc3Rhcz9cIik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5yZXNldCgpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IodXNlck5hbWUsIHVzZXJKb2IpIHtcclxuICAgIHRoaXMuX3VzZXJOYW1lID0gdXNlck5hbWU7XHJcbiAgICB0aGlzLl91c2VySm9iID0gdXNlckpvYjtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB1c2VyTmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIHVzZXJKb2I6IHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8odXNlckRhdGEpIHtcclxuICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gdXNlckRhdGEubmFtZTtcclxuICAgIHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5hYm91dDtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIuc3JjID0gdXNlckRhdGEuYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihlbmFibGVWYWxpZGF0aW9uKSB7XHJcbiAgICB0aGlzLl9lbmFibGVWYWxpZGF0aW9uID0gZW5hYmxlVmFsaWRhdGlvbjtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2VuYWJsZVZhbGlkYXRpb24uaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2VuYWJsZVZhbGlkYXRpb24uZXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2VuYWJsZVZhbGlkYXRpb24uaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2VuYWJsZVZhbGlkYXRpb24uZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoXHJcbiAgICAgICAgZm9ybUVsZW1lbnQsXHJcbiAgICAgICAgaW5wdXRFbGVtZW50LFxyXG4gICAgICAgIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+XHJcbiAgICBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lbmFibGVWYWxpZGF0aW9uLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcclxuICAgICAgICB0aGlzLl9lbmFibGVWYWxpZGF0aW9uLmluYWN0aXZlQnV0dG9uQ2xhc3NcclxuICAgICAgKTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycyA9IChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9lbmFibGVWYWxpZGF0aW9uLmlucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX2VuYWJsZVZhbGlkYXRpb24uc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcblxyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2VuYWJsZVZhbGlkYXRpb24uZm9ybVNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICAgIGZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKGZvcm1FbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2Utc2hvd19fcG9wdXBcIik7XHJcbiAgICB0aGlzLl9wb3B1cFRpdGxlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2Utc2hvd19fdGl0bGVcIik7XHJcbiAgICB0aGlzLl9idXR0b25DbG9zZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5pbWFnZS1zaG93X19jbG9zZS1pY29uXCJcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5fYnV0dG9uQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcbiAgfVxyXG5cclxuICBvcGVuKGltYWdlLCB0ZXh0KSB7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGltYWdlO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSB0ZXh0O1xyXG4gICAgdGhpcy5fcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3Jtcy5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHtcclxuICBidXR0b25FZGl0UHJvZmlsZSxcclxuICBidXR0b25DbG9zZVBvcHVwUHJvZmlsZSxcclxuICBwcm9maWxlTmFtZSxcclxuICBwcm9maWxlT2NjdXBhdGlvbixcclxuICBpbnB1dE5hbWUsXHJcbiAgaW5wdXRBYm91dCxcclxuICBidXR0b25BZGRDYXJkUG9wdXAsXHJcbiAgYnV0dG9uQ2xvc2VDYXJkUG9wdXAsXHJcbiAgcG9wdXBBdmF0YXIsXHJcbiAgcHJvZmlsZUF2YXRhcixcclxuICBjbG9zZVBvcHVwQXZhdGFyLFxyXG4gIHBvcHVwRGVsZXRlQ2FyZCxcclxuICBidXR0b25DbG9zZVBvcHVwRGVsZXRlLFxyXG4gIGJ1dHRvbkRlbGV0ZUNhcmQsXHJcbiAgaW5wdXRUaXRsZSxcclxuICBpbnB1dExpbmssXHJcbiAgaW5wdXRMaW5rQXZhdGFyLFxyXG4gIHByb2ZpbGVBdmF0YXJJbWFnZSxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcixcclxufSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb25zdGFudHMuanNcIjtcclxuXHJcbi8vQ2FyZ2FyIGxhIGluZm9ybWFjacOzbiBkZWwgdXN1YXJpbyBkZXNkZSBlbCBzZXJ2aWRvclxyXG5jb25zdCB1c2VyUHJvZmlsZSA9IG5ldyBVc2VySW5mbyhwcm9maWxlTmFtZSwgcHJvZmlsZU9jY3VwYXRpb24pO1xyXG5jb25zdCBhcGkgPSBuZXcgQXBpKCk7XHJcbmFwaVxyXG4gIC5nZXRVc2VySW5mbygpXHJcbiAgLnRoZW4oKHVzZXJJbmZvKSA9PiB7XHJcbiAgICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyh1c2VySW5mbyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KTtcclxuXHJcbi8vQ2FyZ2FyIGxhcyB0YXJqZXRhcyBkZXNkZSBlbCBzZXJ2aWRvclxyXG5hcGlcclxuICAuZ2V0Q2FyZHMoKVxyXG4gIC50aGVuKChpbmZvQ2FyZCkgPT4ge1xyXG4gICAgY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAgICAgIHtcclxuICAgICAgICBpdGVtczogaW5mb0NhcmQsXHJcbiAgICAgICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoXHJcbiAgICAgICAgICAgIGl0ZW0sXHJcbiAgICAgICAgICAgIFwiLmVsZW1lbnRcIixcclxuICAgICAgICAgICAgaGFuZGxlQ2FyZENsaWNrLFxyXG4gICAgICAgICAgICBoYW5kbGVEZWxldGVDYXJkXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gICAgICAgICAgY2FyZHNMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIFwiLmVsZW1lbnRzXCJcclxuICAgICk7XHJcbiAgICBjYXJkc0xpc3QucmVuZGVySXRlbXMoKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH0pO1xyXG5cclxuLy9QT1BVUCBNT1NUUkFSIElNQUdFTlxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2soc3JjLCB0ZXh0KSB7XHJcbiAgY29uc3Qgb3BlbkltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3BvcHVwSW1hZ2VcIik7XHJcbiAgb3BlbkltYWdlLm9wZW4oc3JjLCB0ZXh0KTtcclxufVxyXG5cclxuLy9GVU5DScOTTiBFTElNSU5BUiBDQVJEXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmQoY2FyZElkLCBjYXJkRWxlbWVudCkge1xyXG4gIHBvcHVwRGVsZXRlQ2FyZC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfY2xvc2VkXCIpO1xyXG5cclxuICBidXR0b25EZWxldGVDYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuXHJcbiAgICBjb25zdCBhcGkgPSBuZXcgQXBpKCk7XHJcbiAgICBhcGlcclxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZElkKVxyXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFRhcmpldGEgY29uIGlkICR7Y2FyZElkfSBlbGltaW5hZGFgKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBhbCBlbGltaW5hciB0YXJqZXRhIGNvbiBpZCAke2NhcmRJZH06ICR7ZXJyb3J9YCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHBvcHVwRGVsZXRlQ2FyZC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfY2xvc2VkXCIpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5idXR0b25DbG9zZVBvcHVwRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcG9wdXBEZWxldGVDYXJkLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9jbG9zZWRcIik7XHJcbn0pO1xyXG5cclxuLy9QT1BVUCBBw5FBRElSIENBUkRcclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0KCkge1xyXG4gIGNvbnN0IGNhcmROYW1lID0gaW5wdXRUaXRsZS52YWx1ZTtcclxuICBjb25zdCBjYXJkTGluayA9IGlucHV0TGluay52YWx1ZTtcclxuICBjb25zdCBjYXJkRGF0YSA9IHtcclxuICAgIG5hbWU6IGNhcmROYW1lLFxyXG4gICAgbGluazogY2FyZExpbmssXHJcbiAgfTtcclxuICBjb25zdCBhcGkgPSBuZXcgQXBpKCk7XHJcbiAgYXBpXHJcbiAgICAuYWRkTmV3Q2FyZChjYXJkRGF0YSlcclxuICAgIC50aGVuKChuZXdDYXJkKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgICAgICBuZXdDYXJkLFxyXG4gICAgICAgIFwiLmVsZW1lbnRcIixcclxuICAgICAgICBoYW5kbGVDYXJkQ2xpY2ssXHJcbiAgICAgICAgaGFuZGxlRGVsZXRlQ2FyZFxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICAgIGNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBjYXJkc0xpc3QuYWRkSXRlbShpdGVtKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcIi5lbGVtZW50c1wiXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjYXJkc0xpc3QuYWRkSXRlbVRvU3RhcnQoY2FyZEVsZW1lbnQpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhzdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yLnRleHRDb250ZW50ID0gXCJHdWFyZGFyXCI7XHJcbiAgICAgIGNhcmRGb3JtLmNsb3NlKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuY29uc3QgY2FyZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhZGRDYXJkXCIsIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0KTtcclxuXHJcbmNhcmRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5idXR0b25BZGRDYXJkUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjYXJkRm9ybS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYnV0dG9uQ2xvc2VDYXJkUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjYXJkRm9ybS5jbG9zZSgpO1xyXG59KTtcclxuXHJcbi8vUE9QVVAgRURJVEFSIFBFUkZJTFxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRWRpdFByb2ZpbGVGb3JtU3VibWl0KCkge1xyXG4gIGNvbnN0IHVzZXJEYXRhID0ge1xyXG4gICAgbmFtZTogaW5wdXROYW1lLnZhbHVlLFxyXG4gICAgYWJvdXQ6IGlucHV0QWJvdXQudmFsdWUsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYXBpID0gbmV3IEFwaSgpO1xyXG4gIGFwaVxyXG4gICAgLmVkaXRVc2VySW5mbyh1c2VyRGF0YSlcclxuICAgIC50aGVuKCh1c2VySW5mbykgPT4ge1xyXG4gICAgICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyh1c2VySW5mbyk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcblxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBzdWJtaXRCdXR0b25TZWxlY3Rvci50ZXh0Q29udGVudCA9IFwiR3VhcmRhclwiO1xyXG4gICAgICBlZGl0UHJvZmlsZS5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjZWRpdFByb2ZpbGVcIixcclxuICBoYW5kbGVFZGl0UHJvZmlsZUZvcm1TdWJtaXRcclxuKTtcclxuZWRpdFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vIGNvbnN0IHVzZXJQcm9maWxlID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVOYW1lLCBwcm9maWxlT2NjdXBhdGlvbik7XHJcblxyXG5idXR0b25FZGl0UHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IGluZm9Qcm9maWxlID0gdXNlclByb2ZpbGUuZ2V0VXNlckluZm8oKTtcclxuICBpbnB1dE5hbWUudmFsdWUgPSBpbmZvUHJvZmlsZS51c2VyTmFtZTtcclxuICBpbnB1dEFib3V0LnZhbHVlID0gaW5mb1Byb2ZpbGUudXNlckpvYjtcclxuICBlZGl0UHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYnV0dG9uQ2xvc2VQb3B1cFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBlZGl0UHJvZmlsZS5jbG9zZSgpO1xyXG59KTtcclxuXHJcbi8vUE9QVVAgQVZBVEFSXHJcbnByb2ZpbGVBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cEF2YXRhci5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfY2xvc2VkXCIpO1xyXG59KTtcclxuXHJcbmNsb3NlUG9wdXBBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cEF2YXRhci5jbGFzc0xpc3QuYWRkKFwicG9wdXBfY2xvc2VkXCIpO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVDaGFuZ2VBdmF0YXJQcm9maWxlKCkge1xyXG4gIGNvbnN0IHVzZXJBdmF0YXIgPSB7XHJcbiAgICBhdmF0YXI6IGlucHV0TGlua0F2YXRhci52YWx1ZSxcclxuICB9O1xyXG4gIGNvbnN0IGFwaSA9IG5ldyBBcGkoKTtcclxuICBhcGlcclxuICAgIC5jaGFuZ2VBdmF0YXJQcm9maWxlKHVzZXJBdmF0YXIpXHJcbiAgICAudGhlbigodXNlckluZm8pID0+IHtcclxuICAgICAgdXNlclByb2ZpbGUuc2V0VXNlckluZm8odXNlckluZm8pO1xyXG4gICAgICBwcm9maWxlQXZhdGFySW1hZ2Uuc3JjID0gdXNlckluZm8uYXZhdGFyO1xyXG4gICAgICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyh1c2VySW5mbyk7XHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBuZXdBdmF0YXIuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgc3VibWl0QnV0dG9uU2VsZWN0b3IudGV4dENvbnRlbnQgPSBcIkd1YXJkYXJcIjtcclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBuZXdBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNjaGFuZ2VBdmF0YXJcIiwgaGFuZGxlQ2hhbmdlQXZhdGFyUHJvZmlsZSk7XHJcbm5ld0F2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy9WQUxJREFSIEZPUk1VTEFSSU8gRURJVEFSIFBFUkZJTFxyXG5jb25zdCBWYWxpZGF0b3JGb3JtUHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKHtcclxuICBmb3JtU2VsZWN0b3I6IFwiI2VkaXRQcm9maWxlXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX3RleHRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9pbmFjdGl2ZVwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9fdGV4dF9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWVycm9yXCIsXHJcbn0pO1xyXG5cclxuVmFsaWRhdG9yRm9ybVByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy9WQUxJREFSIEZPUk1VTEFSSU8gQcORQURJUiBDQVJEXHJcbmNvbnN0IFZhbGlkYXRvckZvcm1BZGRDYXJkID0gbmV3IEZvcm1WYWxpZGF0b3Ioe1xyXG4gIGZvcm1TZWxlY3RvcjogXCIjYWRkQ2FyZFwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX190ZXh0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25faW5hY3RpdmVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX3RleHRfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC1lcnJvclwiLFxyXG59KTtcclxuXHJcblZhbGlkYXRvckZvcm1BZGRDYXJkLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vVkFMSURBUiBGT1JNVUxBUklPIENBTUJJQVIgQVZBVEFSXHJcbmNvbnN0IFZhbGlkYXRvckZvcm1DaGFuZ2VBdmF0YXIgPSBuZXcgRm9ybVZhbGlkYXRvcih7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIiNjaGFuZ2VBdmF0YXJcIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9fdGV4dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX190ZXh0X2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3JcIixcclxufSk7XHJcblxyXG5WYWxpZGF0b3JGb3JtQ2hhbmdlQXZhdGFyLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuIl0sIm5hbWVzIjpbIlNlY3Rpb24iLCJfcmVmIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9pbml0aWFsQXJyYXkiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwia2V5IiwidmFsdWUiLCJfdGhpcyIsImZvckVhY2giLCJpdGVtIiwiZWxlbWVudCIsImFwcGVuZCIsInByZXBlbmQiLCJBcGkiLCJhdXRob3JpemF0aW9uIiwidXJsIiwibWV0aG9kIiwiYm9keSIsImZldGNoIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsImNvbmNhdCIsInN0YXR1cyIsIl91c2VGZXRjaCIsInJlc3VsdCIsInVzZXJEYXRhIiwiY2FyZERhdGEiLCJjYXJkSWQiLCJjb25zb2xlIiwibG9nIiwibGlrZXMiLCJ1c2VyQXZhdGFyIiwidGVtcGxhdGVDYXJkIiwiYnV0dG9uRWRpdFByb2ZpbGUiLCJidXR0b25DbG9zZVBvcHVwUHJvZmlsZSIsImlucHV0TmFtZSIsImlucHV0QWJvdXQiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVPY2N1cGF0aW9uIiwicG9wdXBBdmF0YXIiLCJjbG9zZVBvcHVwQXZhdGFyIiwicHJvZmlsZUF2YXRhciIsImlucHV0TGlua0F2YXRhciIsInByb2ZpbGVBdmF0YXJJbWFnZSIsImJ1dHRvbkFkZENhcmRQb3B1cCIsImJ1dHRvbkNsb3NlQ2FyZFBvcHVwIiwiaW5wdXRUaXRsZSIsImlucHV0TGluayIsInBvcHVwRGVsZXRlQ2FyZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidXR0b25DbG9zZVBvcHVwRGVsZXRlIiwiYnV0dG9uRGVsZXRlQ2FyZCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDYXJkIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGVuZ3RoIiwiX2NhcmRJZCIsIl9pZCIsIl9saWtlQ2FyZCIsImJpbmQiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfdXNlcklkIiwib3duZXIiLCJfY2FyZFNlbGVjdG9yIiwiX2FwaSIsIl9saWtlZCIsInNvbWUiLCJjb250ZW50IiwiX3RoaXMyIiwicmVtb3ZlTGlrZSIsIl9saWtlQnV0dG9uIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiX2NhcmRMaWtlc0NvdW50IiwidGV4dENvbnRlbnQiLCJjYXRjaCIsImVyciIsImFkZExpa2UiLCJhZGQiLCJfdGhpczMiLCJhZGRFdmVudExpc3RlbmVyIiwiX2J1dHRvbkRlbGV0ZSIsIl9jYXJkRWxlbWVudCIsIl9jYXJkSW1hZ2UiLCJzcmMiLCJfY2FyZFRpdGxlIiwiYWx0IiwiX2dldFRlbXBsYXRlIiwiX3NldENhcmRQcm9wZXJ0aWVzIiwiX3NldEV2ZW50c0xpc3RlbmVycyIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwiY2xvc2UiLCJfY2xvc2VQb3B1cE91dFNpZGUiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm1zIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiaGFuZGxlRm9ybVN1Ym1pdCIsImNhbGwiLCJfaW5wdXRMaXN0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1EYXRhIiwicmVzZXQiLCJVc2VySW5mbyIsInVzZXJOYW1lIiwidXNlckpvYiIsIl91c2VyTmFtZSIsIl91c2VySm9iIiwiX3VzZXJBdmF0YXIiLCJhYm91dCIsImF2YXRhciIsIkZvcm1WYWxpZGF0b3IiLCJfY3JlYXRlQ2xhc3MiLCJlbmFibGVWYWxpZGF0aW9uIiwiX2RlZmluZVByb3BlcnR5IiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsIl9lbmFibGVWYWxpZGF0aW9uIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJfaGFzSW52YWxpZElucHV0IiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiQXJyYXkiLCJmcm9tIiwiaW5wdXRTZWxlY3RvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JtU2VsZWN0b3IiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cEltYWdlIiwiX3BvcHVwVGl0bGUiLCJfYnV0dG9uQ2xvc2UiLCJpbWFnZSIsInRleHQiLCJ1c2VyUHJvZmlsZSIsImFwaSIsIm9wZW4iLCJjYXJkRWxlbWVudCIsImRlbGV0ZUNhcmQiLCJlcnJvciIsImdldFVzZXJJbmZvIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsImdldENhcmRzIiwiaW5mb0NhcmQiLCJjYXJkc0xpc3QiLCJnZW5lcmF0ZUNhcmQiLCJhZGRJdGVtIiwicmVuZGVySXRlbXMiLCJjYXJkRm9ybSIsIlBvcHVwV2l0aEZvcm0iLCJhZGROZXdDYXJkIiwibmV3Q2FyZCIsImFkZEl0ZW1Ub1N0YXJ0IiwiZmluYWxseSIsInNldEV2ZW50TGlzdGVuZXJzIiwiZWRpdFByb2ZpbGUiLCJlZGl0VXNlckluZm8iLCJpbmZvUHJvZmlsZSIsIm5ld0F2YXRhciIsImNoYW5nZUF2YXRhclByb2ZpbGUiXSwic291cmNlUm9vdCI6IiJ9