!function(){"use strict";var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}e.p="";var r=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var t,r;return t=e,(r=[{key:"renderItems",value:function(){var e=this;this._initialArray.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}},{key:"addItemToStart",value:function(e){this._container.prepend(e)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),o=[{name:"Valle de Yosemite",link:e.p+"2f4750c0e4a213c60eb9.jpg"},{name:"Lago Louise",link:e.p+"88bc51b3a4d1f7cdc256.jpg"},{name:"MontaÃ±as Calvas",link:e.p+"58ca2187493043bc541d.jpg"},{name:"Latemar",link:e.p+"30deba3d176a8b00f945.jpg"},{name:"Parque Nacional de la Vanoise",link:e.p+"5542cbad128f16db083f.jpg"},{name:"Lago di Braies",link:e.p+"8ed3c94411760b29782f.jpg"}],i=document.querySelector("#templateCard"),u=(document.querySelector(".popup_closed"),document.querySelector(".profile__edit")),l=document.querySelector(".popup__close-icon"),c=document.querySelector("#name"),a=document.querySelector("#about"),s=document.querySelector(".profile__name"),p=document.querySelector(".profile__occupation"),f=(document.querySelector(".popup__button"),document.querySelector(".popup_closed-element"),document.querySelector("#addButton")),y=document.querySelector(".popup__close-icon_element");function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===m(o)?o:String(o)),r)}var o}document.querySelector("#buttonElement"),document.querySelector("#titulo"),document.querySelector("#enlace"),document.querySelector(".elements"),document.querySelectorAll(".element__image"),document.querySelector(".image-show__close-icon"),document.querySelector("#popupImage"),document.querySelector(".image-show__popup"),document.querySelector(".image-show__title"),document.querySelectorAll(".popup");var b=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._handleCardClick=r,this._cardSelector=n}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return i.cloneNode(!0).content.querySelector(this._cardSelector)}},{key:"_likeCard",value:function(){this._likeButton.classList.toggle("icon-like_black")}},{key:"_deleteCard",value:function(){this._buttonDelete.closest(".element").remove()}},{key:"_setEventsListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){return e._likeCard()})),this._buttonDelete.addEventListener("click",(function(){return e._deleteCard()})),this._cardImage.addEventListener("click",(function(){return e._handleCardClick(e._link,e._name)}))}},{key:"_setCardProperties",value:function(){this._cardImage=this._cardElement.querySelector(".element__image"),this._cardImage.src=this._link,this._cardTitle=this._cardElement.querySelector(".element__title"),this._cardTitle.textContent=this._name,this._cardImage.alt=this._name,this._buttonDelete=this._cardElement.querySelector(".element__delete"),this._likeButton=this._cardElement.querySelector(".icon-like")}},{key:"generateCard",value:function(){return this._cardElement=this._getTemplate(),this._setCardProperties(),this._setEventsListeners(),this._cardElement}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===v(o)?o:String(o)),r)}var o}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.remove("popup_closed"),document.addEventListener("keydown",this._handleEscClose,!0)}},{key:"close",value:function(){this._popupElement.classList.add("popup_closed"),document.removeEventListener("keydown",this._handleEscClose,!1)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){e._closePopupOutSide(t)}))}},{key:"_closePopupOutSide",value:function(e){e.target.classList.contains("popup")&&this.close()}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===S(o)?o:String(o)),r)}var o}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},w.apply(this,arguments)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._popupElement=document.querySelector(e),n._inputList=n._popupElement.querySelectorAll(".popup__text"),n._handleFormSubmit=t,n._getInputValues=n._getInputValues.bind(k(n)),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;w(j(u.prototype),"setEventListeners",this).call(this),this._popupElement.addEventListener("submit",(function(t){t.preventDefault();var n=e._getInputValues();e._handleFormSubmit(n),e.close()}))}},{key:"close",value:function(){w(j(u.prototype),"close",this).call(this),this._popupElement.reset()}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(h);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}var q=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=t,this._userJob=n}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{userName:this._userName.textContent,userJob:this._userJob.textContent}}},{key:"setUserInfo",value:function(e){this._userName.textContent=e.name,this._userJob.textContent=e.job}}])&&O(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}function T(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function V(e,t,n){return(t=B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===L(t)?t:String(t)}var R=T((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),V(this,"_showInputError",(function(e,t,r){var o=e.querySelector("#".concat(t.id,"-error"));t.classList.add(n._enableValidation.inputErrorClass),o.textContent=r,o.classList.add(n._enableValidation.errorClass)})),V(this,"_hideInputError",(function(e,t){var r=e.querySelector("#".concat(t.id,"-error"));t.classList.remove(n._enableValidation.inputErrorClass),r.classList.remove(n._enableValidation.errorClass),r.textContent=""})),V(this,"_checkInputValidity",(function(e,t){t.validity.valid?n._hideInputError(e,t):n._showInputError(e,t,t.validationMessage)})),V(this,"_hasInvalidInput",(function(e){return e.some((function(e){return!e.validity.valid}))})),V(this,"_toggleButtonState",(function(e,t){n._hasInvalidInput(e)?(t.classList.add(n._enableValidation.inactiveButtonClass),t.disabled=!0):(t.classList.remove(n._enableValidation.inactiveButtonClass),t.disabled=!1)})),V(this,"_setEventListeners",(function(e){var t=Array.from(e.querySelectorAll(n._enableValidation.inputSelector)),r=e.querySelector(n._enableValidation.submitButtonSelector);t.forEach((function(o){o.addEventListener("input",(function(){n._checkInputValidity(e,o),n._toggleButtonState(t,r)}))}))})),V(this,"enableValidation",(function(){Array.from(document.querySelectorAll(n._enableValidation.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),n._setEventListeners(e)}))})),this._enableValidation=t}));function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===x(o)?o:String(o)),r)}var o}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=J(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(this,arguments)}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=J(r);if(o){var n=J(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupElement=document.querySelector(e),t._popupImage=t._popupElement.querySelector(".image-show__popup"),t._popupTitle=t._popupElement.querySelector(".image-show__title"),t._buttonClose=t._popupElement.querySelector(".image-show__close-icon"),t._buttonClose.addEventListener("click",(function(){return t.close()})),t._popupElement.addEventListener("click",(function(){return t.close()})),t}return t=u,(n=[{key:"open",value:function(e,t){this._popupImage.src=e,this._popupImage.alt=t,this._popupTitle.textContent=t,D(J(u.prototype),"open",this).call(this)}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(h);function F(e,t){new U("#popupImage").open(e,t)}var M=new r({items:o,renderer:function(e){var t=new b(e,".element",F).generateCard();M.addItem(t)}},".elements");M.renderItems();var Y=new P("#addCard",(function(e){var t=new b(e,".element",F).generateCard();M.addItemToStart(t)}));Y.setEventListeners(),f.addEventListener("click",(function(){Y.open()})),y.addEventListener("click",(function(){Y.close()}));var z=new P("#editProfile",(function(){var e={name:c.value,job:a.value};G.setUserInfo(e),z.close()}));z.setEventListeners();var G=new q(s,p);u.addEventListener("click",(function(){var e=G.getUserInfo();c.value=e.userName,a.value=e.userJob,z.open()})),l.addEventListener("click",(function(){z.close()})),new R({formSelector:"#editProfile",inputSelector:".popup__text",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__text_error",errorClass:"popup__input-error"}).enableValidation(),new R({formSelector:"#addCard",inputSelector:".popup__text",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__text_error",errorClass:"popup__input-error"}).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2luaXRpYWxBcnJheSA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuXHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faW5pdGlhbEFycmF5LmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW1Ub1N0YXJ0KGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeW9zZW1pdGVJbWFnZSBmcm9tIFwiLi4vaW1hZ2VzL1ZhbGxlWW9zZW1pdGUuanBnXCI7XHJcbmltcG9ydCBsb3Vpc2VJbWFnZSBmcm9tIFwiLi4vaW1hZ2VzL0xhZ29Mb3Vpc2UuanBnXCI7XHJcbmltcG9ydCBjYWx2YXNJbWFnZSBmcm9tIFwiLi4vaW1hZ2VzL01vbnRhw7Fhc0NhbHZhcy5qcGdcIjtcclxuaW1wb3J0IGxhdGVtYXJJbWFnZSBmcm9tIFwiLi4vaW1hZ2VzL0xhdGVtYXIuanBnXCI7XHJcbmltcG9ydCB2YW5vaXNlSW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy9WYW5vaXNlLmpwZ1wiO1xyXG5pbXBvcnQgYnJhaWVzSW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy9MYWdvQnJhaWVzLmpwZ1wiO1xyXG5cclxuLy9BcnJheSBkZSBvYmpldG9zIGRlIGxhcyBjYXJkc1xyXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiVmFsbGUgZGUgWW9zZW1pdGVcIixcclxuICAgIGxpbms6IHlvc2VtaXRlSW1hZ2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gTG91aXNlXCIsXHJcbiAgICBsaW5rOiBsb3Vpc2VJbWFnZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTW9udGHDsWFzIENhbHZhc1wiLFxyXG4gICAgbGluazogY2FsdmFzSW1hZ2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IGxhdGVtYXJJbWFnZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiUGFycXVlIE5hY2lvbmFsIGRlIGxhIFZhbm9pc2VcIixcclxuICAgIGxpbms6IHZhbm9pc2VJbWFnZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIGxpbms6IGJyYWllc0ltYWdlLFxyXG4gIH0sXHJcbl07XHJcblxyXG4vL1ZhcmlhYmxlIHBhcmEgZ2VuZXJhciBjYXJkXHJcbmNvbnN0IHRlbXBsYXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGVtcGxhdGVDYXJkXCIpO1xyXG5cclxuLy9WYXJpYWJsZXMgcGFyYSBhYnJpci9jZXJyYXIgdmVudGFuYSBwYXJhIGVkaXRhciBwZXJmaWxcclxuY29uc3QgZm9ybUVsZW1lbnRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9jbG9zZWRcIik7XHJcbmNvbnN0IGJ1dHRvbkVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0XCIpO1xyXG5jb25zdCBidXR0b25DbG9zZVBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWljb25cIik7XHJcblxyXG4vL1ZhcmlhYmxlcyBwYXJhIGFjdHVhbGl6YXIgZGF0b3MgZW4gbGEgdmVudGFuYSBkZWwgcGVyZmlsXHJcbmNvbnN0IGlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKTtcclxuY29uc3QgaW5wdXRBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWJvdXRcIik7XHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlT2NjdXBhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fb2NjdXBhdGlvblwiKTtcclxuY29uc3QgYnV0dG9uU3VibWl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcclxuXHJcbi8vVmFyaWFibGVzIHBhcmEgYWJyaXIvY2VycmFyIHZlbnRhbmEgcGFyYSBhZ3JlZ2FyIGNhcmRcclxuY29uc3QgZm9ybUVsZW1lbnRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9jbG9zZWQtZWxlbWVudFwiKTtcclxuY29uc3QgYnV0dG9uQWRkQ2FyZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGRCdXR0b25cIik7XHJcbmNvbnN0IGJ1dHRvbkNsb3NlQ2FyZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wb3B1cF9fY2xvc2UtaWNvbl9lbGVtZW50XCJcclxuKTtcclxuXHJcbi8vVmFyaWFibGVzIHBhcmEgYWdyZWdhciBjYXJkXHJcbmNvbnN0IGJ1dHRvbkFkZENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J1dHRvbkVsZW1lbnRcIik7XHJcbmNvbnN0IGlucHV0VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RpdHVsb1wiKTtcclxuY29uc3QgaW5wdXRMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlbmxhY2VcIik7XHJcbmNvbnN0IGVsZW1lbnRzQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XHJcblxyXG4vL1ZhcmlhYmxlcyBwYXJhIGFtcGxpYXIgY2FyZFxyXG5jb25zdCBpbWFnZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5lbGVtZW50X19pbWFnZVwiKTtcclxuY29uc3QgYnV0dG9uQ2xvc2VJbWFnZVNob3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXNob3dfX2Nsb3NlLWljb25cIik7XHJcbmNvbnN0IHBvcHVwSW1hZ2VTaG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cEltYWdlXCIpO1xyXG5jb25zdCBpbWFnZVNob3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXNob3dfX3BvcHVwXCIpO1xyXG5jb25zdCBpbWFnZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXNob3dfX3RpdGxlXCIpO1xyXG5cclxuLy9WYXJpYWJsZSBwYXJhIGNlcnJhciBsYSB2ZW50YW5hIGVtZXJnZW50ZSBoYWNpZW5kbyBjbGljIGVuIHN1cGVycG9zaWNpw7NuL3B1bHNhbmRvIEVzY1xyXG5jb25zdCBwb3B1cHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwXCIpO1xyXG5cclxuZXhwb3J0IHtcclxuICB0ZW1wbGF0ZUNhcmQsXHJcbiAgZm9ybUVsZW1lbnRQcm9maWxlLFxyXG4gIGJ1dHRvbkVkaXRQcm9maWxlLFxyXG4gIGJ1dHRvbkNsb3NlUG9wdXBQcm9maWxlLFxyXG4gIHBvcHVwcyxcclxuICBpbnB1dE5hbWUsXHJcbiAgaW5wdXRBYm91dCxcclxuICBwcm9maWxlTmFtZSxcclxuICBwcm9maWxlT2NjdXBhdGlvbixcclxuICBidXR0b25TdWJtaXRQcm9maWxlLFxyXG4gIGZvcm1FbGVtZW50Q2FyZCxcclxuICBidXR0b25BZGRDYXJkUG9wdXAsXHJcbiAgYnV0dG9uQ2xvc2VDYXJkUG9wdXAsXHJcbiAgYnV0dG9uQWRkQ2FyZCxcclxuICBpbnB1dFRpdGxlLFxyXG4gIGlucHV0TGluayxcclxuICBlbGVtZW50c0NhcmQsXHJcbiAgYnV0dG9uQ2xvc2VJbWFnZVNob3csXHJcbiAgcG9wdXBJbWFnZVNob3csXHJcbiAgaW1hZ2VTaG93LFxyXG4gIGltYWdlVGV4dCxcclxuICBpbWFnZUNhcmRzLFxyXG59O1xyXG4iLCJpbXBvcnQgeyB0ZW1wbGF0ZUNhcmQgfSBmcm9tIFwiLi9jb25zdGFudHMuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuXHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCB0ZW1wbGF0ZUVsZW1lbnQgPSB0ZW1wbGF0ZUNhcmRcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3Rvcik7XHJcblxyXG4gICAgcmV0dXJuIHRlbXBsYXRlRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9saWtlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImljb24tbGlrZV9ibGFja1wiKTtcclxuICB9XHJcblxyXG4gIF9kZWxldGVDYXJkKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uRGVsZXRlLmNsb3Nlc3QoXCIuZWxlbWVudFwiKS5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudHNMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9saWtlQ2FyZCgpKTtcclxuICAgIHRoaXMuX2J1dHRvbkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5fZGVsZXRlQ2FyZCgpKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX2xpbmssIHRoaXMuX25hbWUpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX3NldENhcmRQcm9wZXJ0aWVzKCkge1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190aXRsZVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2J1dHRvbkRlbGV0ZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaWNvbi1saWtlXCIpO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0Q2FyZFByb3BlcnRpZXMoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50c0xpc3RlbmVycygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9jbG9zZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSwgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfY2xvc2VkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2Nsb3NlUG9wdXBPdXRTaWRlKGV2dCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9jbG9zZVBvcHVwT3V0U2lkZShldnQpIHtcclxuICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwXCIpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX190ZXh0XCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9nZXRJbnB1dFZhbHVlcyA9IHRoaXMuX2dldElucHV0VmFsdWVzLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChcclxuICAgICAgKGlucHV0KSA9PiAodGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdChmb3JtRGF0YSk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih1c2VyTmFtZSwgdXNlckpvYikge1xyXG4gICAgdGhpcy5fdXNlck5hbWUgPSB1c2VyTmFtZTtcclxuICAgIHRoaXMuX3VzZXJKb2IgPSB1c2VySm9iO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB1c2VyTmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIHVzZXJKb2I6IHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8odXNlckRhdGEpIHtcclxuICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gdXNlckRhdGEubmFtZTtcclxuICAgIHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5qb2I7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGVuYWJsZVZhbGlkYXRpb24pIHtcclxuICAgIHRoaXMuX2VuYWJsZVZhbGlkYXRpb24gPSBlbmFibGVWYWxpZGF0aW9uO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZW5hYmxlVmFsaWRhdGlvbi5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZW5hYmxlVmFsaWRhdGlvbi5lcnJvckNsYXNzKTtcclxuICB9O1xyXG5cclxuICBfaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZW5hYmxlVmFsaWRhdGlvbi5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZW5hYmxlVmFsaWRhdGlvbi5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfTtcclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihcclxuICAgICAgICBmb3JtRWxlbWVudCxcclxuICAgICAgICBpbnB1dEVsZW1lbnQsXHJcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT5cclxuICAgIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KSA9PiB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2VuYWJsZVZhbGlkYXRpb24uaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgIHRoaXMuX2VuYWJsZVZhbGlkYXRpb24uaW5hY3RpdmVCdXR0b25DbGFzc1xyXG4gICAgICApO1xyXG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2VuYWJsZVZhbGlkYXRpb24uaW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fZW5hYmxlVmFsaWRhdGlvbi5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuXHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fZW5hYmxlVmFsaWRhdGlvbi5mb3JtU2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgICAgZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbWFnZS1zaG93X19wb3B1cFwiKTtcclxuICAgIHRoaXMuX3BvcHVwVGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbWFnZS1zaG93X190aXRsZVwiKTtcclxuICAgIHRoaXMuX2J1dHRvbkNsb3NlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmltYWdlLXNob3dfX2Nsb3NlLWljb25cIlxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9idXR0b25DbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZSgpKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZSgpKTtcclxuICB9XHJcblxyXG4gIG9wZW4oaW1hZ2UsIHRleHQpIHtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gaW1hZ2U7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IHRleHQ7XHJcbiAgICB0aGlzLl9wb3B1cFRpdGxlLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IHsgaW5pdGlhbENhcmRzIH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgYnV0dG9uRWRpdFByb2ZpbGUsXHJcbiAgYnV0dG9uQ2xvc2VQb3B1cFByb2ZpbGUsXHJcbiAgcHJvZmlsZU5hbWUsXHJcbiAgcHJvZmlsZU9jY3VwYXRpb24sXHJcbiAgaW5wdXROYW1lLFxyXG4gIGlucHV0QWJvdXQsXHJcbiAgYnV0dG9uQWRkQ2FyZFBvcHVwLFxyXG4gIGJ1dHRvbkNsb3NlQ2FyZFBvcHVwLFxyXG59IGZyb20gXCIuL2NvbXBvbmVudHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG4vL1BPUFVQIE1PU1RSQVIgSU1BR0VOXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhzcmMsIHRleHQpIHtcclxuICBjb25zdCBvcGVuSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcG9wdXBJbWFnZVwiKTtcclxuICBvcGVuSW1hZ2Uub3BlbihzcmMsIHRleHQpO1xyXG59XHJcblxyXG4vL1JFTkRFUklaQVIgQ0FSRFNcclxuY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoaXRlbSwgXCIuZWxlbWVudFwiLCBoYW5kbGVDYXJkQ2xpY2spO1xyXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5lbGVtZW50c1wiXHJcbik7XHJcbmNhcmRzTGlzdC5yZW5kZXJJdGVtcygpO1xyXG5cclxuLy9QT1BVUCBBw5FBRElSIENBUkRcclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0KGRhdGEpIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgXCIuZWxlbWVudFwiLCBoYW5kbGVDYXJkQ2xpY2spO1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuXHJcbiAgY2FyZHNMaXN0LmFkZEl0ZW1Ub1N0YXJ0KGNhcmRFbGVtZW50KTtcclxufVxyXG5cclxuY29uc3QgY2FyZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhZGRDYXJkXCIsIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0KTtcclxuXHJcbmNhcmRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5idXR0b25BZGRDYXJkUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjYXJkRm9ybS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYnV0dG9uQ2xvc2VDYXJkUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjYXJkRm9ybS5jbG9zZSgpO1xyXG59KTtcclxuXHJcbi8vUE9QVVAgRURJVEFSIFBFUkZJTFxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRWRpdFByb2ZpbGVGb3JtU3VibWl0KCkge1xyXG4gIGNvbnN0IHVzZXJEYXRhID0ge1xyXG4gICAgbmFtZTogaW5wdXROYW1lLnZhbHVlLFxyXG4gICAgam9iOiBpbnB1dEFib3V0LnZhbHVlLFxyXG4gIH07XHJcbiAgdXNlclByb2ZpbGUuc2V0VXNlckluZm8odXNlckRhdGEpO1xyXG4gIGVkaXRQcm9maWxlLmNsb3NlKCk7XHJcbn1cclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjZWRpdFByb2ZpbGVcIixcclxuICBoYW5kbGVFZGl0UHJvZmlsZUZvcm1TdWJtaXRcclxuKTtcclxuZWRpdFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHVzZXJQcm9maWxlID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVOYW1lLCBwcm9maWxlT2NjdXBhdGlvbik7XHJcblxyXG5idXR0b25FZGl0UHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IGluZm9Qcm9maWxlID0gdXNlclByb2ZpbGUuZ2V0VXNlckluZm8oKTtcclxuICBpbnB1dE5hbWUudmFsdWUgPSBpbmZvUHJvZmlsZS51c2VyTmFtZTtcclxuICBpbnB1dEFib3V0LnZhbHVlID0gaW5mb1Byb2ZpbGUudXNlckpvYjtcclxuICBlZGl0UHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYnV0dG9uQ2xvc2VQb3B1cFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBlZGl0UHJvZmlsZS5jbG9zZSgpO1xyXG59KTtcclxuXHJcbi8vVkFMSURBUiBGT1JNVUxBUklPIEVESVRBUiBQRVJGSUxcclxuY29uc3QgVmFsaWRhdG9yRm9ybVByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcih7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIiNlZGl0UHJvZmlsZVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX190ZXh0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25faW5hY3RpdmVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX3RleHRfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC1lcnJvclwiLFxyXG59KTtcclxuXHJcblZhbGlkYXRvckZvcm1Qcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vVkFMSURBUiBGT1JNVUxBUklPIEHDkUFESVIgQ0FSRFxyXG5jb25zdCBWYWxpZGF0b3JGb3JtQWRkQ2FyZCA9IG5ldyBGb3JtVmFsaWRhdG9yKHtcclxuICBmb3JtU2VsZWN0b3I6IFwiI2FkZENhcmRcIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9fdGV4dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX190ZXh0X2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3JcIixcclxufSk7XHJcblxyXG5WYWxpZGF0b3JGb3JtQWRkQ2FyZC5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicCIsIlNlY3Rpb24iLCJfcmVmIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9pbml0aWFsQXJyYXkiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwia2V5IiwidmFsdWUiLCJfdGhpcyIsImZvckVhY2giLCJpdGVtIiwiZWxlbWVudCIsImFwcGVuZCIsInByZXBlbmQiLCJpbml0aWFsQ2FyZHMiLCJuYW1lIiwibGluayIsInRlbXBsYXRlQ2FyZCIsImJ1dHRvbkVkaXRQcm9maWxlIiwiYnV0dG9uQ2xvc2VQb3B1cFByb2ZpbGUiLCJpbnB1dE5hbWUiLCJpbnB1dEFib3V0IiwicHJvZmlsZU5hbWUiLCJwcm9maWxlT2NjdXBhdGlvbiIsImJ1dHRvbkFkZENhcmRQb3B1cCIsImJ1dHRvbkNsb3NlQ2FyZFBvcHVwIiwicXVlcnlTZWxlY3RvckFsbCIsIkNhcmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiX25hbWUiLCJfbGluayIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfY2FyZFNlbGVjdG9yIiwiY29udGVudCIsIl9saWtlQnV0dG9uIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX2J1dHRvbkRlbGV0ZSIsImNsb3Nlc3QiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2xpa2VDYXJkIiwiX2RlbGV0ZUNhcmQiLCJfY2FyZEltYWdlIiwiX2NhcmRFbGVtZW50Iiwic3JjIiwiX2NhcmRUaXRsZSIsInRleHRDb250ZW50IiwiYWx0IiwiX2dldFRlbXBsYXRlIiwiX3NldENhcmRQcm9wZXJ0aWVzIiwiX3NldEV2ZW50c0xpc3RlbmVycyIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiYWRkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImNsb3NlIiwiX2Nsb3NlUG9wdXBPdXRTaWRlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiaGFuZGxlRm9ybVN1Ym1pdCIsImNhbGwiLCJfaW5wdXRMaXN0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiX3RoaXMyIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsIl90aGlzMyIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1EYXRhIiwicmVzZXQiLCJVc2VySW5mbyIsInVzZXJOYW1lIiwidXNlckpvYiIsIl91c2VyTmFtZSIsIl91c2VySm9iIiwidXNlckRhdGEiLCJqb2IiLCJGb3JtVmFsaWRhdG9yIiwiX2NyZWF0ZUNsYXNzIiwiZW5hYmxlVmFsaWRhdGlvbiIsIl9kZWZpbmVQcm9wZXJ0eSIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJfZW5hYmxlVmFsaWRhdGlvbiIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJzb21lIiwiYnV0dG9uRWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJBcnJheSIsImZyb20iLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9ybVNlbGVjdG9yIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cFRpdGxlIiwiX2J1dHRvbkNsb3NlIiwiaW1hZ2UiLCJ0ZXh0Iiwib3BlbiIsImNhcmRzTGlzdCIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwiY2FyZEZvcm0iLCJhZGRJdGVtVG9TdGFydCIsInNldEV2ZW50TGlzdGVuZXJzIiwiZWRpdFByb2ZpbGUiLCJ1c2VyUHJvZmlsZSIsInNldFVzZXJJbmZvIiwiaW5mb1Byb2ZpbGUiLCJnZXRVc2VySW5mbyJdLCJzb3VyY2VSb290IjoiIn0=