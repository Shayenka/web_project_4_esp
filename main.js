!function(){"use strict";var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}e.p="";var r=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var t,r;return t=e,(r=[{key:"renderItems",value:function(){var e=this;this._initialArray.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}},{key:"addItemToStart",value:function(e){this._container.prepend(e)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.authorization="3270d03d-8b4c-49a2-869b-f096d27af6a5"}var t,n;return t=e,(n=[{key:"_useFetch",value:function(e,t,n){return fetch(e,{headers:{authorization:this.authorization,"Content-Type":"application/json"},method:t,body:JSON.stringify(n)}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getUserInfo",value:function(){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/users/me","GET").then((function(e){return e}))}},{key:"getCards",value:function(){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/cards","GET").then((function(e){return e}))}},{key:"editUserInfo",value:function(e){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/users/me","PATCH",e).then((function(e){return e}))}},{key:"addNewCard",value:function(e){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/cards","POST",e).then((function(e){return e}))}},{key:"addLike",value:function(e){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/cards/likes/".concat(e),"PUT").then((function(e){return e}))}},{key:"removeLike",value:function(e){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/cards/likes/".concat(e),"DELETE").then((function(e){return e}))}},{key:"deleteCard",value:function(e){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/cards/".concat(e),"DELETE").then((function(e){return e}))}},{key:"changeAvatarProfile",value:function(e){return this._useFetch("https://around.nomoreparties.co/v1/web_es_05/users/me/avatar","PATCH",e).then((function(e){return e}))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),c=(e.p,e.p,e.p,e.p,e.p,e.p,document.querySelector("#templateCard")),a=(document.querySelector(".popup_closed"),document.querySelector(".profile__edit")),l=document.querySelector(".popup__close-icon"),s=document.querySelector("#name"),p=document.querySelector("#about"),f=document.querySelector(".profile__name"),d=document.querySelector(".profile__occupation"),y=(document.querySelector(".popup__button"),document.querySelector("#changeAvatar")),m=document.querySelector("#closePopupAvatar"),_=document.querySelector(".profile__avatar"),v=document.querySelector("#linkAvatar"),h=document.querySelector(".profile__image"),b=(document.querySelector(".popup_closed-element"),document.querySelector("#addButton")),S=document.querySelector(".popup__close-icon_element"),g=(document.querySelector("#buttonElement"),document.querySelector("#titulo")),w=document.querySelector("#enlace"),E=(document.querySelector(".elements"),document.querySelectorAll(".element__image"),document.querySelector(".image-show__close-icon"),document.querySelector("#popupImage"),document.querySelector(".image-show__popup"),document.querySelector(".image-show__title"),document.querySelector("#popupDeleteCard")),k=document.querySelector("#ClosePopupDeleteCard"),C=document.querySelector("#buttonDeleteCard"),P=(document.querySelectorAll(".popup"),document.querySelectorAll(".popup__button"));function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}var O=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._likes=t.likes.length,this._cardId=t._id,this._likeCard=this._likeCard.bind(this),this._handleCardClick=r,this._handleDeleteCard=o,this._userId=t.owner._id,this._cardSelector=n,this._api=new u}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return c.cloneNode(!0).content.querySelector(this._cardSelector)}},{key:"_likeCard",value:function(e){var t=this;this._likeButton.classList.contains("icon-like_black")?this._api.removeLike(e).then((function(e){t._likeButton.classList.remove("icon-like_black"),t._cardLikesCount.textContent=t._likes})).catch((function(e){return console.log("Error al remover like: ".concat(e))})):this._api.addLike(e).then((function(e){t._likeButton.classList.add("icon-like_black"),t._cardLikesCount.textContent=t._likes})).catch((function(e){return console.log("Error al aÃ±adir like: ".concat(e))}))}},{key:"_setEventsListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){return e._likeCard(e._cardId)})),"93de6497062267393a34f6f4"===this._userId?this._buttonDelete.addEventListener("click",(function(){return e._handleDeleteCard(e._cardId,e._cardElement)})):this._buttonDelete.remove(),this._cardImage.addEventListener("click",(function(){return e._handleCardClick(e._link,e._name)}))}},{key:"_setCardProperties",value:function(){this._cardImage=this._cardElement.querySelector(".element__image"),this._cardImage.src=this._link,this._cardTitle=this._cardElement.querySelector(".element__title"),this._cardTitle.textContent=this._name,this._cardImage.alt=this._name,this._buttonDelete=this._cardElement.querySelector(".element__delete"),this._likeButton=this._cardElement.querySelector(".icon-like"),this._cardLikesCount=this._cardElement.querySelector(".likes-card__count"),this._cardLikesCount.textContent=this._likes}},{key:"generateCard",value:function(){return this._cardElement=this._getTemplate(),this._setCardProperties(),this._setEventsListeners(),this._cardElement}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===q(o)?o:String(o)),r)}var o}var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.remove("popup_closed"),document.addEventListener("keydown",this._handleEscClose,!0)}},{key:"close",value:function(){this._popupElement.classList.add("popup_closed"),document.removeEventListener("keydown",this._handleEscClose,!1)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){e._closePopupOutSide(t)}))}},{key:"_closePopupOutSide",value:function(e){e.target.classList.contains("popup")&&this.close()}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===x(o)?o:String(o)),r)}var o}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},A.apply(this,arguments)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(r);if(o){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._popupElement=document.querySelector(e),n._inputList=n._popupElement.querySelectorAll(".popup__text"),n._handleFormSubmit=t,n._getInputValues=n._getInputValues.bind(R(n)),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;A(D(u.prototype),"setEventListeners",this).call(this),this._popupElement.addEventListener("submit",(function(t){t.preventDefault();var n=e._getInputValues();e._handleFormSubmit(n),t.target.querySelector(".popup__button").textContent="Cargando..."}))}},{key:"close",value:function(){A(D(u.prototype),"close",this).call(this),this._popupElement.reset()}}])&&V(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(T);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===F(o)?o:String(o)),r)}var o}var J=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=t,this._userJob=n,this._userAvatar=document.querySelector(".profile__image")}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{userName:this._userName.textContent,userJob:this._userJob.textContent}}},{key:"setUserInfo",value:function(e){this._userName.textContent=e.name,this._userJob.textContent=e.about,this._userAvatar.src=e.avatar}}])&&N(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,K(r.key),r)}}function H(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M(e,t,n){return(t=K(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===G(t)?t:String(t)}var Q=H((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),M(this,"_showInputError",(function(e,t,r){var o=e.querySelector("#".concat(t.id,"-error"));t.classList.add(n._enableValidation.inputErrorClass),o.textContent=r,o.classList.add(n._enableValidation.errorClass)})),M(this,"_hideInputError",(function(e,t){var r=e.querySelector("#".concat(t.id,"-error"));t.classList.remove(n._enableValidation.inputErrorClass),r.classList.remove(n._enableValidation.errorClass),r.textContent=""})),M(this,"_checkInputValidity",(function(e,t){t.validity.valid?n._hideInputError(e,t):n._showInputError(e,t,t.validationMessage)})),M(this,"_hasInvalidInput",(function(e){return e.some((function(e){return!e.validity.valid}))})),M(this,"_toggleButtonState",(function(e,t){n._hasInvalidInput(e)?(t.classList.add(n._enableValidation.inactiveButtonClass),t.disabled=!0):(t.classList.remove(n._enableValidation.inactiveButtonClass),t.disabled=!1)})),M(this,"_setEventListeners",(function(e){var t=Array.from(e.querySelectorAll(n._enableValidation.inputSelector)),r=e.querySelector(n._enableValidation.submitButtonSelector);t.forEach((function(o){o.addEventListener("input",(function(){n._checkInputValidity(e,o),n._toggleButtonState(t,r)}))}))})),M(this,"enableValidation",(function(){Array.from(document.querySelectorAll(n._enableValidation.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),n._setEventListeners(e)}))})),this._enableValidation=t}));function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==W(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===W(o)?o:String(o)),r)}var o}function Y(){return Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Y.apply(this,arguments)}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$(r);if(o){var n=$(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupElement=document.querySelector(e),t._popupImage=t._popupElement.querySelector(".image-show__popup"),t._popupTitle=t._popupElement.querySelector(".image-show__title"),t._buttonClose=t._popupElement.querySelector(".image-show__close-icon"),t._buttonClose.addEventListener("click",(function(){return t.close()})),t._popupElement.addEventListener("click",(function(){return t.close()})),t}return t=u,(n=[{key:"open",value:function(e,t){this._popupImage.src=e,this._popupImage.alt=t,this._popupTitle.textContent=t,Y($(u.prototype),"open",this).call(this)}}])&&X(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(T),te=new J(f,d),ne=new u;function re(e,t){new ee("#popupImage").open(e,t)}function oe(e,t){E.classList.remove("popup_closed"),C.addEventListener("click",(function(){t.remove(),(new u).deleteCard(e).then((function(t){console.log("Tarjeta con id ".concat(e," eliminada"))})).catch((function(t){console.log("Error al eliminar tarjeta con id ".concat(e,": ").concat(t))})),E.classList.add("popup_closed")}))}ne.getUserInfo().then((function(e){te.setUserInfo(e)})).catch((function(e){console.log(e)})),ne.getCards().then((function(e){var t=new r({items:e,renderer:function(e){var n=new O(e,".element",re,oe).generateCard();t.addItem(n)}},".elements");t.renderItems()})).catch((function(e){console.log(e)})),k.addEventListener("click",(function(){E.classList.add("popup_closed")}));var ie=new U("#addCard",(function(){var e={name:g.value,link:w.value};(new u).addNewCard(e).then((function(e){var t=new O(e,".element",re,oe).generateCard(),n=new r({items:[],renderer:function(e){n.addItem(e)}},".elements");n.addItemToStart(t)})).catch((function(e){console.log(e)})).finally((function(){P.textContent="Guardar",ie.close()}))}));ie.setEventListeners(),b.addEventListener("click",(function(){ie.open()})),S.addEventListener("click",(function(){ie.close()}));var ue=new U("#editProfile",(function(){var e={name:s.value,about:p.value};(new u).editUserInfo(e).then((function(e){te.setUserInfo(e)})).catch((function(e){console.log(e)})).finally((function(){P.textContent="Guardar",ue.close()}))}));ue.setEventListeners(),a.addEventListener("click",(function(){var e=te.getUserInfo();s.value=e.userName,p.value=e.userJob,ue.open()})),l.addEventListener("click",(function(){ue.close()})),_.addEventListener("click",(function(){y.classList.remove("popup_closed")})),m.addEventListener("click",(function(){y.classList.add("popup_closed")}));var ce=new U("#changeAvatar",(function(){var e={avatar:v.value};(new u).changeAvatarProfile(e).then((function(e){te.setUserInfo(e),h.src=e.avatar,te.setUserInfo(e)})).then((function(){ce.close()})).catch((function(e){console.log(e)})).finally((function(){P.textContent="Guardar"}))}));ce.setEventListeners(),new Q({formSelector:"#editProfile",inputSelector:".popup__text",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__text_error",errorClass:"popup__input-error"}).enableValidation(),new Q({formSelector:"#addCard",inputSelector:".popup__text",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__text_error",errorClass:"popup__input-error"}).enableValidation(),new Q({formSelector:"#changeAvatar",inputSelector:".popup__text",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__text_error",errorClass:"popup__input-error"}).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXNCLGlCQUN0QnlHLG9CQUFxQix5QkFDckJYLGdCQUFpQixvQkFDakJDLFdBQVksdUJBR1lULGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3Avd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3Avd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pbml0aWFsQXJyYXkgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcblxyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2luaXRpYWxBcnJheS5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtVG9TdGFydChlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuYXV0aG9yaXphdGlvbiA9IFwiMzI3MGQwM2QtOGI0Yy00OWEyLTg2OWItZjA5NmQyN2FmNmE1XCI7XHJcbiAgfVxyXG5cclxuICBfdXNlRmV0Y2godXJsLCBtZXRob2QsIGJvZHkpIHtcclxuICAgIHJldHVybiBmZXRjaCh1cmwsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuYXV0aG9yaXphdGlvbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgbWV0aG9kLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB0aGlzLl91c2VGZXRjaChcclxuICAgICAgXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wNS91c2Vycy9tZVwiLFxyXG4gICAgICBgR0VUYFxyXG4gICAgKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2FyZHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdXNlRmV0Y2goXHJcbiAgICAgIFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfZXNfMDUvY2FyZHNcIixcclxuICAgICAgYEdFVGBcclxuICAgICkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVkaXRVc2VySW5mbyh1c2VyRGF0YSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3VzZUZldGNoKFxyXG4gICAgICBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzA1L3VzZXJzL21lXCIsXHJcbiAgICAgIGBQQVRDSGAsXHJcbiAgICAgIHVzZXJEYXRhXHJcbiAgICApLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGROZXdDYXJkKGNhcmREYXRhKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdXNlRmV0Y2goXHJcbiAgICAgIFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfZXNfMDUvY2FyZHNcIixcclxuICAgICAgYFBPU1RgLFxyXG4gICAgICBjYXJkRGF0YVxyXG4gICAgKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiB0aGlzLl91c2VGZXRjaChcclxuICAgICAgYGh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzA1L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsXHJcbiAgICAgIGBQVVRgXHJcbiAgICApLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3VzZUZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfZXNfMDUvY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCxcclxuICAgICAgYERFTEVURWBcclxuICAgICkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdXNlRmV0Y2goXHJcbiAgICAgIGBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wNS9jYXJkcy8ke2NhcmRJZH1gLFxyXG4gICAgICBgREVMRVRFYFxyXG4gICAgKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlQXZhdGFyUHJvZmlsZSh1c2VyQXZhdGFyKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdXNlRmV0Y2goXHJcbiAgICAgIFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfZXNfMDUvdXNlcnMvbWUvYXZhdGFyXCIsXHJcbiAgICAgIGBQQVRDSGAsXHJcbiAgICAgIHVzZXJBdmF0YXJcclxuICAgICkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHlvc2VtaXRlSW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy9WYWxsZVlvc2VtaXRlLmpwZ1wiO1xyXG5pbXBvcnQgbG91aXNlSW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy9MYWdvTG91aXNlLmpwZ1wiO1xyXG5pbXBvcnQgY2FsdmFzSW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy9Nb250YcOxYXNDYWx2YXMuanBnXCI7XHJcbmltcG9ydCBsYXRlbWFySW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy9MYXRlbWFyLmpwZ1wiO1xyXG5pbXBvcnQgdmFub2lzZUltYWdlIGZyb20gXCIuLi9pbWFnZXMvVmFub2lzZS5qcGdcIjtcclxuaW1wb3J0IGJyYWllc0ltYWdlIGZyb20gXCIuLi9pbWFnZXMvTGFnb0JyYWllcy5qcGdcIjtcclxuXHJcbi8vQXJyYXkgZGUgb2JqZXRvcyBkZSBsYXMgY2FyZHNcclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbGxlIGRlIFlvc2VtaXRlXCIsXHJcbiAgICBsaW5rOiB5b3NlbWl0ZUltYWdlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIExvdWlzZVwiLFxyXG4gICAgbGluazogbG91aXNlSW1hZ2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk1vbnRhw7FhcyBDYWx2YXNcIixcclxuICAgIGxpbms6IGNhbHZhc0ltYWdlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXHJcbiAgICBsaW5rOiBsYXRlbWFySW1hZ2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlBhcnF1ZSBOYWNpb25hbCBkZSBsYSBWYW5vaXNlXCIsXHJcbiAgICBsaW5rOiB2YW5vaXNlSW1hZ2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICBsaW5rOiBicmFpZXNJbWFnZSxcclxuICB9LFxyXG5dO1xyXG5cclxuLy9WYXJpYWJsZSBwYXJhIGdlbmVyYXIgY2FyZFxyXG5jb25zdCB0ZW1wbGF0ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RlbXBsYXRlQ2FyZFwiKTtcclxuXHJcbi8vVmFyaWFibGVzIHBhcmEgYWJyaXIvY2VycmFyIHZlbnRhbmEgcGFyYSBlZGl0YXIgcGVyZmlsXHJcbmNvbnN0IGZvcm1FbGVtZW50UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfY2xvc2VkXCIpO1xyXG5jb25zdCBidXR0b25FZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdFwiKTtcclxuY29uc3QgYnV0dG9uQ2xvc2VQb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1pY29uXCIpO1xyXG5cclxuLy9WYXJpYWJsZXMgcGFyYSBhY3R1YWxpemFyIGRhdG9zIGVuIGxhIHZlbnRhbmEgZGVsIHBlcmZpbFxyXG5jb25zdCBpbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25hbWVcIik7XHJcbmNvbnN0IGlucHV0QWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Fib3V0XCIpO1xyXG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcclxuY29uc3QgcHJvZmlsZU9jY3VwYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX29jY3VwYXRpb25cIik7XHJcbmNvbnN0IGJ1dHRvblN1Ym1pdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XHJcblxyXG4vL1ZhcmlhYmxlcyBwb3B1cCBhdmF0YXJcclxuY29uc3QgcG9wdXBBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NoYW5nZUF2YXRhclwiKTtcclxuY29uc3QgY2xvc2VQb3B1cEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2xvc2VQb3B1cEF2YXRhclwiKTtcclxuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG5jb25zdCBpbnB1dExpbmtBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xpbmtBdmF0YXJcIik7XHJcbmNvbnN0IHByb2ZpbGVBdmF0YXJJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XHJcblxyXG4vL1ZhcmlhYmxlcyBwYXJhIGFicmlyL2NlcnJhciB2ZW50YW5hIHBhcmEgYWdyZWdhciBjYXJkXHJcbmNvbnN0IGZvcm1FbGVtZW50Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfY2xvc2VkLWVsZW1lbnRcIik7XHJcbmNvbnN0IGJ1dHRvbkFkZENhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkQnV0dG9uXCIpO1xyXG5jb25zdCBidXR0b25DbG9zZUNhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfX2Nsb3NlLWljb25fZWxlbWVudFwiXHJcbik7XHJcblxyXG4vL1ZhcmlhYmxlcyBwYXJhIGFncmVnYXIgY2FyZFxyXG5jb25zdCBidXR0b25BZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidXR0b25FbGVtZW50XCIpO1xyXG5jb25zdCBpbnB1dFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aXR1bG9cIik7XHJcbmNvbnN0IGlucHV0TGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW5sYWNlXCIpO1xyXG5jb25zdCBlbGVtZW50c0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzXCIpO1xyXG5cclxuLy9WYXJpYWJsZXMgcGFyYSBhbXBsaWFyIGNhcmRcclxuY29uc3QgaW1hZ2VDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWxlbWVudF9faW1hZ2VcIik7XHJcbmNvbnN0IGJ1dHRvbkNsb3NlSW1hZ2VTaG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbWFnZS1zaG93X19jbG9zZS1pY29uXCIpO1xyXG5jb25zdCBwb3B1cEltYWdlU2hvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXBJbWFnZVwiKTtcclxuY29uc3QgaW1hZ2VTaG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbWFnZS1zaG93X19wb3B1cFwiKTtcclxuY29uc3QgaW1hZ2VUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbWFnZS1zaG93X190aXRsZVwiKTtcclxuXHJcbi8vVmFyaWFibGVzIHBhcmEgcG9wdXAgZWxpbWluYXIgY2FyZFxyXG5jb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwRGVsZXRlQ2FyZFwiKTtcclxuY29uc3QgYnV0dG9uQ2xvc2VQb3B1cERlbGV0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjQ2xvc2VQb3B1cERlbGV0ZUNhcmRcIik7XHJcbmNvbnN0IGJ1dHRvbkRlbGV0ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J1dHRvbkRlbGV0ZUNhcmRcIik7XHJcblxyXG4vL1ZhcmlhYmxlIHBhcmEgY2VycmFyIGxhIHZlbnRhbmEgZW1lcmdlbnRlIGhhY2llbmRvIGNsaWMgZW4gc3VwZXJwb3NpY2nDs24vcHVsc2FuZG8gRXNjXHJcbmNvbnN0IHBvcHVwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBcIik7XHJcblxyXG4vL1ZhcmlhYmxlIHBhcmEgZW52aWFyIGZvcm11bGFyaW9cclxuY29uc3Qgc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19idXR0b25cIik7XHJcblxyXG4vL1ZhcmlhYmxlIGlkZW50aWZpY2Fkb3IgdXN1YXJpbyBwZXJmaWxcclxuY29uc3QgdXNlclByb2ZpbGVJZCA9IFwiOTNkZTY0OTcwNjIyNjczOTNhMzRmNmY0XCI7XHJcblxyXG5leHBvcnQge1xyXG4gIHRlbXBsYXRlQ2FyZCxcclxuICBmb3JtRWxlbWVudFByb2ZpbGUsXHJcbiAgYnV0dG9uRWRpdFByb2ZpbGUsXHJcbiAgYnV0dG9uQ2xvc2VQb3B1cFByb2ZpbGUsXHJcbiAgcG9wdXBzLFxyXG4gIGlucHV0TmFtZSxcclxuICBpbnB1dEFib3V0LFxyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIHByb2ZpbGVPY2N1cGF0aW9uLFxyXG4gIGJ1dHRvblN1Ym1pdFByb2ZpbGUsXHJcbiAgZm9ybUVsZW1lbnRDYXJkLFxyXG4gIGJ1dHRvbkFkZENhcmRQb3B1cCxcclxuICBidXR0b25DbG9zZUNhcmRQb3B1cCxcclxuICBidXR0b25BZGRDYXJkLFxyXG4gIGlucHV0VGl0bGUsXHJcbiAgaW5wdXRMaW5rLFxyXG4gIGVsZW1lbnRzQ2FyZCxcclxuICBidXR0b25DbG9zZUltYWdlU2hvdyxcclxuICBwb3B1cEltYWdlU2hvdyxcclxuICBpbWFnZVNob3csXHJcbiAgaW1hZ2VUZXh0LFxyXG4gIGltYWdlQ2FyZHMsXHJcbiAgcHJvZmlsZUF2YXRhcixcclxuICBjbG9zZVBvcHVwQXZhdGFyLFxyXG4gIHBvcHVwQXZhdGFyLFxyXG4gIHBvcHVwRGVsZXRlQ2FyZCxcclxuICBidXR0b25DbG9zZVBvcHVwRGVsZXRlLFxyXG4gIGJ1dHRvbkRlbGV0ZUNhcmQsXHJcbiAgaW5wdXRMaW5rQXZhdGFyLFxyXG4gIHByb2ZpbGVBdmF0YXJJbWFnZSxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcixcclxuICB1c2VyUHJvZmlsZUlkLFxyXG59O1xyXG4iLCJpbXBvcnQgQXBpIGZyb20gXCIuL0FwaS5qc1wiO1xyXG5pbXBvcnQgeyB0ZW1wbGF0ZUNhcmQsIHVzZXJQcm9maWxlSWQgfSBmcm9tIFwiLi9jb25zdGFudHMuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVDYXJkKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcy5sZW5ndGg7XHJcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX2xpa2VDYXJkID0gdGhpcy5fbGlrZUNhcmQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gZGF0YS5vd25lci5faWQ7XHJcblxyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fYXBpID0gbmV3IEFwaSgpO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgdGVtcGxhdGVFbGVtZW50ID0gdGVtcGxhdGVDYXJkXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSlcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpO1xyXG5cclxuICAgIHJldHVybiB0ZW1wbGF0ZUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICBpZiAoIXRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiaWNvbi1saWtlX2JsYWNrXCIpKSB7XHJcbiAgICAgIHRoaXMuX2FwaVxyXG4gICAgICAgIC5hZGRMaWtlKGNhcmRJZClcclxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJpY29uLWxpa2VfYmxhY2tcIik7XHJcbiAgICAgICAgICB0aGlzLl9jYXJkTGlrZXNDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGBFcnJvciBhbCBhw7FhZGlyIGxpa2U6ICR7ZXJyfWApKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2FwaVxyXG4gICAgICAgIC5yZW1vdmVMaWtlKGNhcmRJZClcclxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJpY29uLWxpa2VfYmxhY2tcIik7XHJcbiAgICAgICAgICB0aGlzLl9jYXJkTGlrZXNDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGBFcnJvciBhbCByZW1vdmVyIGxpa2U6ICR7ZXJyfWApKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudHNMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gICAgICB0aGlzLl9saWtlQ2FyZCh0aGlzLl9jYXJkSWQpXHJcbiAgICApO1xyXG4gICAgaWYgKHRoaXMuX3VzZXJJZCA9PT0gdXNlclByb2ZpbGVJZCkge1xyXG4gICAgICB0aGlzLl9idXR0b25EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzLl9jYXJkSWQsIHRoaXMuX2NhcmRFbGVtZW50KVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRGVsZXRlLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX2xpbmssIHRoaXMuX25hbWUpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX3NldENhcmRQcm9wZXJ0aWVzKCkge1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190aXRsZVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2J1dHRvbkRlbGV0ZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaWNvbi1saWtlXCIpO1xyXG4gICAgdGhpcy5fY2FyZExpa2VzQ291bnQgPVxyXG4gICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpa2VzLWNhcmRfX2NvdW50XCIpO1xyXG4gICAgdGhpcy5fY2FyZExpa2VzQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcztcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX3NldENhcmRQcm9wZXJ0aWVzKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudHNMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfY2xvc2VkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX2Nsb3NlZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlLCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICB0aGlzLl9jbG9zZVBvcHVwT3V0U2lkZShldnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfY2xvc2VQb3B1cE91dFNpZGUoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fdGV4dFwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZ2V0SW5wdXRWYWx1ZXMgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcy5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goXHJcbiAgICAgIChpbnB1dCkgPT4gKHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSlcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBjb25zdCBmb3JtRGF0YSA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoZm9ybURhdGEpO1xyXG4gICAgICBldnQudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKS50ZXh0Q29udGVudCA9IFwiQ2FyZ2FuZG8uLi5cIjtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih1c2VyTmFtZSwgdXNlckpvYikge1xyXG4gICAgdGhpcy5fdXNlck5hbWUgPSB1c2VyTmFtZTtcclxuICAgIHRoaXMuX3VzZXJKb2IgPSB1c2VySm9iO1xyXG4gICAgdGhpcy5fdXNlckF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHVzZXJOYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgdXNlckpvYjogdGhpcy5fdXNlckpvYi50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh1c2VyRGF0YSkge1xyXG4gICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fdXNlckpvYi50ZXh0Q29udGVudCA9IHVzZXJEYXRhLmFib3V0O1xyXG4gICAgdGhpcy5fdXNlckF2YXRhci5zcmMgPSB1c2VyRGF0YS5hdmF0YXI7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGVuYWJsZVZhbGlkYXRpb24pIHtcclxuICAgIHRoaXMuX2VuYWJsZVZhbGlkYXRpb24gPSBlbmFibGVWYWxpZGF0aW9uO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZW5hYmxlVmFsaWRhdGlvbi5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZW5hYmxlVmFsaWRhdGlvbi5lcnJvckNsYXNzKTtcclxuICB9O1xyXG5cclxuICBfaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZW5hYmxlVmFsaWRhdGlvbi5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZW5hYmxlVmFsaWRhdGlvbi5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfTtcclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihcclxuICAgICAgICBmb3JtRWxlbWVudCxcclxuICAgICAgICBpbnB1dEVsZW1lbnQsXHJcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT5cclxuICAgIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KSA9PiB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2VuYWJsZVZhbGlkYXRpb24uaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgIHRoaXMuX2VuYWJsZVZhbGlkYXRpb24uaW5hY3RpdmVCdXR0b25DbGFzc1xyXG4gICAgICApO1xyXG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2VuYWJsZVZhbGlkYXRpb24uaW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fZW5hYmxlVmFsaWRhdGlvbi5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuXHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fZW5hYmxlVmFsaWRhdGlvbi5mb3JtU2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgICAgZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbWFnZS1zaG93X19wb3B1cFwiKTtcclxuICAgIHRoaXMuX3BvcHVwVGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbWFnZS1zaG93X190aXRsZVwiKTtcclxuICAgIHRoaXMuX2J1dHRvbkNsb3NlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmltYWdlLXNob3dfX2Nsb3NlLWljb25cIlxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9idXR0b25DbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZSgpKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZSgpKTtcclxuICB9XHJcblxyXG4gIG9wZW4oaW1hZ2UsIHRleHQpIHtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gaW1hZ2U7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IHRleHQ7XHJcbiAgICB0aGlzLl9wb3B1cFRpdGxlLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHtcclxuICBidXR0b25FZGl0UHJvZmlsZSxcclxuICBidXR0b25DbG9zZVBvcHVwUHJvZmlsZSxcclxuICBwcm9maWxlTmFtZSxcclxuICBwcm9maWxlT2NjdXBhdGlvbixcclxuICBpbnB1dE5hbWUsXHJcbiAgaW5wdXRBYm91dCxcclxuICBidXR0b25BZGRDYXJkUG9wdXAsXHJcbiAgYnV0dG9uQ2xvc2VDYXJkUG9wdXAsXHJcbiAgcG9wdXBBdmF0YXIsXHJcbiAgcHJvZmlsZUF2YXRhcixcclxuICBjbG9zZVBvcHVwQXZhdGFyLFxyXG4gIHBvcHVwRGVsZXRlQ2FyZCxcclxuICBidXR0b25DbG9zZVBvcHVwRGVsZXRlLFxyXG4gIGJ1dHRvbkRlbGV0ZUNhcmQsXHJcbiAgaW5wdXRUaXRsZSxcclxuICBpbnB1dExpbmssXHJcbiAgaW5wdXRMaW5rQXZhdGFyLFxyXG4gIHByb2ZpbGVBdmF0YXJJbWFnZSxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcixcclxufSBmcm9tIFwiLi9jb21wb25lbnRzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuLy9DYXJnYXIgbGEgaW5mb3JtYWNpw7NuIGRlbCB1c3VhcmlvIGRlc2RlIGVsIHNlcnZpZG9yXHJcbmNvbnN0IHVzZXJQcm9maWxlID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVOYW1lLCBwcm9maWxlT2NjdXBhdGlvbik7XHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoKTtcclxuYXBpXHJcbiAgLmdldFVzZXJJbmZvKClcclxuICAudGhlbigodXNlckluZm8pID0+IHtcclxuICAgIHVzZXJQcm9maWxlLnNldFVzZXJJbmZvKHVzZXJJbmZvKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH0pO1xyXG5cclxuLy9DYXJnYXIgbGFzIHRhcmpldGFzIGRlc2RlIGVsIHNlcnZpZG9yXHJcbmFwaVxyXG4gIC5nZXRDYXJkcygpXHJcbiAgLnRoZW4oKGluZm9DYXJkKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbihcclxuICAgICAge1xyXG4gICAgICAgIGl0ZW1zOiBpbmZvQ2FyZCxcclxuICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgICAgICAgIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChcclxuICAgICAgICAgICAgaXRlbSxcclxuICAgICAgICAgICAgXCIuZWxlbWVudFwiLFxyXG4gICAgICAgICAgICBoYW5kbGVDYXJkQ2xpY2ssXHJcbiAgICAgICAgICAgIGhhbmRsZURlbGV0ZUNhcmRcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICAgICAgICBjYXJkc0xpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgXCIuZWxlbWVudHNcIlxyXG4gICAgKTtcclxuICAgIGNhcmRzTGlzdC5yZW5kZXJJdGVtcygpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSk7XHJcblxyXG4vL1BPUFVQIE1PU1RSQVIgSU1BR0VOXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhzcmMsIHRleHQpIHtcclxuICBjb25zdCBvcGVuSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcG9wdXBJbWFnZVwiKTtcclxuICBvcGVuSW1hZ2Uub3BlbihzcmMsIHRleHQpO1xyXG59XHJcblxyXG4vL0ZVTkNJw5NOIEVMSU1JTkFSIENBUkRcclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2FyZChjYXJkSWQsIGNhcmRFbGVtZW50KSB7XHJcbiAgcG9wdXBEZWxldGVDYXJkLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9jbG9zZWRcIik7XHJcblxyXG4gIGJ1dHRvbkRlbGV0ZUNhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGNhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG5cclxuICAgIGNvbnN0IGFwaSA9IG5ldyBBcGkoKTtcclxuICAgIGFwaVxyXG4gICAgICAuZGVsZXRlQ2FyZChjYXJkSWQpXHJcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgVGFyamV0YSBjb24gaWQgJHtjYXJkSWR9IGVsaW1pbmFkYWApO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYEVycm9yIGFsIGVsaW1pbmFyIHRhcmpldGEgY29uIGlkICR7Y2FyZElkfTogJHtlcnJvcn1gKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgcG9wdXBEZWxldGVDYXJkLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9jbG9zZWRcIik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmJ1dHRvbkNsb3NlUG9wdXBEZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cERlbGV0ZUNhcmQuY2xhc3NMaXN0LmFkZChcInBvcHVwX2Nsb3NlZFwiKTtcclxufSk7XHJcblxyXG4vL1BPUFVQIEHDkUFESVIgQ0FSRFxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXQoKSB7XHJcbiAgY29uc3QgY2FyZE5hbWUgPSBpbnB1dFRpdGxlLnZhbHVlO1xyXG4gIGNvbnN0IGNhcmRMaW5rID0gaW5wdXRMaW5rLnZhbHVlO1xyXG4gIGNvbnN0IGNhcmREYXRhID0ge1xyXG4gICAgbmFtZTogY2FyZE5hbWUsXHJcbiAgICBsaW5rOiBjYXJkTGluayxcclxuICB9O1xyXG4gIGNvbnN0IGFwaSA9IG5ldyBBcGkoKTtcclxuICBhcGlcclxuICAgIC5hZGROZXdDYXJkKGNhcmREYXRhKVxyXG4gICAgLnRoZW4oKG5ld0NhcmQpID0+IHtcclxuICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgICAgIG5ld0NhcmQsXHJcbiAgICAgICAgXCIuZWxlbWVudFwiLFxyXG4gICAgICAgIGhhbmRsZUNhcmRDbGljayxcclxuICAgICAgICBoYW5kbGVEZWxldGVDYXJkXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuXHJcbiAgICAgIGNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBjYXJkc0xpc3QuYWRkSXRlbShpdGVtKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcIi5lbGVtZW50c1wiXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjYXJkc0xpc3QuYWRkSXRlbVRvU3RhcnQoY2FyZEVsZW1lbnQpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBzdWJtaXRCdXR0b25TZWxlY3Rvci50ZXh0Q29udGVudCA9IFwiR3VhcmRhclwiO1xyXG4gICAgICBjYXJkRm9ybS5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IGNhcmRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjYWRkQ2FyZFwiLCBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdCk7XHJcblxyXG5jYXJkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuYnV0dG9uQWRkQ2FyZFBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY2FyZEZvcm0ub3BlbigpO1xyXG59KTtcclxuXHJcbmJ1dHRvbkNsb3NlQ2FyZFBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY2FyZEZvcm0uY2xvc2UoKTtcclxufSk7XHJcblxyXG4vL1BPUFVQIEVESVRBUiBQRVJGSUxcclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUVkaXRQcm9maWxlRm9ybVN1Ym1pdCgpIHtcclxuICBjb25zdCB1c2VyRGF0YSA9IHtcclxuICAgIG5hbWU6IGlucHV0TmFtZS52YWx1ZSxcclxuICAgIGFib3V0OiBpbnB1dEFib3V0LnZhbHVlLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGFwaSA9IG5ldyBBcGkoKTtcclxuICBhcGlcclxuICAgIC5lZGl0VXNlckluZm8odXNlckRhdGEpXHJcbiAgICAudGhlbigodXNlckluZm8pID0+IHtcclxuICAgICAgdXNlclByb2ZpbGUuc2V0VXNlckluZm8odXNlckluZm8pO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG5cclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgc3VibWl0QnV0dG9uU2VsZWN0b3IudGV4dENvbnRlbnQgPSBcIkd1YXJkYXJcIjtcclxuICAgICAgZWRpdFByb2ZpbGUuY2xvc2UoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiI2VkaXRQcm9maWxlXCIsXHJcbiAgaGFuZGxlRWRpdFByb2ZpbGVGb3JtU3VibWl0XHJcbik7XHJcbmVkaXRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBjb25zdCB1c2VyUHJvZmlsZSA9IG5ldyBVc2VySW5mbyhwcm9maWxlTmFtZSwgcHJvZmlsZU9jY3VwYXRpb24pO1xyXG5cclxuYnV0dG9uRWRpdFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjb25zdCBpbmZvUHJvZmlsZSA9IHVzZXJQcm9maWxlLmdldFVzZXJJbmZvKCk7XHJcbiAgaW5wdXROYW1lLnZhbHVlID0gaW5mb1Byb2ZpbGUudXNlck5hbWU7XHJcbiAgaW5wdXRBYm91dC52YWx1ZSA9IGluZm9Qcm9maWxlLnVzZXJKb2I7XHJcbiAgZWRpdFByb2ZpbGUub3BlbigpO1xyXG59KTtcclxuXHJcbmJ1dHRvbkNsb3NlUG9wdXBQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgZWRpdFByb2ZpbGUuY2xvc2UoKTtcclxufSk7XHJcblxyXG4vL1BPUFVQIEFWQVRBUlxyXG5wcm9maWxlQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcG9wdXBBdmF0YXIuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX2Nsb3NlZFwiKTtcclxufSk7XHJcblxyXG5jbG9zZVBvcHVwQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcG9wdXBBdmF0YXIuY2xhc3NMaXN0LmFkZChcInBvcHVwX2Nsb3NlZFwiKTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlQXZhdGFyUHJvZmlsZSgpIHtcclxuICBjb25zdCB1c2VyQXZhdGFyID0ge1xyXG4gICAgYXZhdGFyOiBpbnB1dExpbmtBdmF0YXIudmFsdWUsXHJcbiAgfTtcclxuICBjb25zdCBhcGkgPSBuZXcgQXBpKCk7XHJcbiAgYXBpXHJcbiAgICAuY2hhbmdlQXZhdGFyUHJvZmlsZSh1c2VyQXZhdGFyKVxyXG4gICAgLnRoZW4oKHVzZXJJbmZvKSA9PiB7XHJcbiAgICAgIHVzZXJQcm9maWxlLnNldFVzZXJJbmZvKHVzZXJJbmZvKTtcclxuICAgICAgcHJvZmlsZUF2YXRhckltYWdlLnNyYyA9IHVzZXJJbmZvLmF2YXRhcjtcclxuICAgICAgdXNlclByb2ZpbGUuc2V0VXNlckluZm8odXNlckluZm8pO1xyXG4gICAgfSlcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgbmV3QXZhdGFyLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yLnRleHRDb250ZW50ID0gXCJHdWFyZGFyXCI7XHJcbiAgICB9KTtcclxufVxyXG5cclxuY29uc3QgbmV3QXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjY2hhbmdlQXZhdGFyXCIsIGhhbmRsZUNoYW5nZUF2YXRhclByb2ZpbGUpO1xyXG5uZXdBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vVkFMSURBUiBGT1JNVUxBUklPIEVESVRBUiBQRVJGSUxcclxuY29uc3QgVmFsaWRhdG9yRm9ybVByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcih7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIiNlZGl0UHJvZmlsZVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX190ZXh0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25faW5hY3RpdmVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX3RleHRfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC1lcnJvclwiLFxyXG59KTtcclxuXHJcblZhbGlkYXRvckZvcm1Qcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vVkFMSURBUiBGT1JNVUxBUklPIEHDkUFESVIgQ0FSRFxyXG5jb25zdCBWYWxpZGF0b3JGb3JtQWRkQ2FyZCA9IG5ldyBGb3JtVmFsaWRhdG9yKHtcclxuICBmb3JtU2VsZWN0b3I6IFwiI2FkZENhcmRcIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9fdGV4dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX190ZXh0X2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3JcIixcclxufSk7XHJcblxyXG5WYWxpZGF0b3JGb3JtQWRkQ2FyZC5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vL1ZBTElEQVIgRk9STVVMQVJJTyBDQU1CSUFSIEFWQVRBUlxyXG5jb25zdCBWYWxpZGF0b3JGb3JtQ2hhbmdlQXZhdGFyID0gbmV3IEZvcm1WYWxpZGF0b3Ioe1xyXG4gIGZvcm1TZWxlY3RvcjogXCIjY2hhbmdlQXZhdGFyXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX3RleHRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9pbmFjdGl2ZVwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9fdGV4dF9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWVycm9yXCIsXHJcbn0pO1xyXG5cclxuVmFsaWRhdG9yRm9ybUNoYW5nZUF2YXRhci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicCIsIlNlY3Rpb24iLCJfcmVmIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9pbml0aWFsQXJyYXkiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwia2V5IiwidmFsdWUiLCJfdGhpcyIsImZvckVhY2giLCJpdGVtIiwiZWxlbWVudCIsImFwcGVuZCIsInByZXBlbmQiLCJBcGkiLCJhdXRob3JpemF0aW9uIiwidXJsIiwibWV0aG9kIiwiYm9keSIsImZldGNoIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsImNvbmNhdCIsInN0YXR1cyIsIl91c2VGZXRjaCIsInJlc3VsdCIsInVzZXJEYXRhIiwiY2FyZERhdGEiLCJjYXJkSWQiLCJ1c2VyQXZhdGFyIiwidGVtcGxhdGVDYXJkIiwiYnV0dG9uRWRpdFByb2ZpbGUiLCJidXR0b25DbG9zZVBvcHVwUHJvZmlsZSIsImlucHV0TmFtZSIsImlucHV0QWJvdXQiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVPY2N1cGF0aW9uIiwicG9wdXBBdmF0YXIiLCJjbG9zZVBvcHVwQXZhdGFyIiwicHJvZmlsZUF2YXRhciIsImlucHV0TGlua0F2YXRhciIsInByb2ZpbGVBdmF0YXJJbWFnZSIsImJ1dHRvbkFkZENhcmRQb3B1cCIsImJ1dHRvbkNsb3NlQ2FyZFBvcHVwIiwiaW5wdXRUaXRsZSIsImlucHV0TGluayIsInBvcHVwRGVsZXRlQ2FyZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidXR0b25DbG9zZVBvcHVwRGVsZXRlIiwiYnV0dG9uRGVsZXRlQ2FyZCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDYXJkIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJsZW5ndGgiLCJfY2FyZElkIiwiX2lkIiwiX2xpa2VDYXJkIiwiYmluZCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl91c2VySWQiLCJvd25lciIsIl9jYXJkU2VsZWN0b3IiLCJfYXBpIiwiY29udGVudCIsIl9saWtlQnV0dG9uIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJyZW1vdmVMaWtlIiwicmVtb3ZlIiwiX2NhcmRMaWtlc0NvdW50IiwidGV4dENvbnRlbnQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJhZGRMaWtlIiwiYWRkIiwiX3RoaXMyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9idXR0b25EZWxldGUiLCJfY2FyZEVsZW1lbnQiLCJfY2FyZEltYWdlIiwic3JjIiwiX2NhcmRUaXRsZSIsImFsdCIsIl9nZXRUZW1wbGF0ZSIsIl9zZXRDYXJkUHJvcGVydGllcyIsIl9zZXRFdmVudHNMaXN0ZW5lcnMiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImNsb3NlIiwiX2Nsb3NlUG9wdXBPdXRTaWRlIiwidGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImhhbmRsZUZvcm1TdWJtaXQiLCJjYWxsIiwiX2lucHV0TGlzdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJfdGhpczMiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwicHJldmVudERlZmF1bHQiLCJmb3JtRGF0YSIsInJlc2V0IiwiVXNlckluZm8iLCJ1c2VyTmFtZSIsInVzZXJKb2IiLCJfdXNlck5hbWUiLCJfdXNlckpvYiIsIl91c2VyQXZhdGFyIiwiYWJvdXQiLCJhdmF0YXIiLCJGb3JtVmFsaWRhdG9yIiwiX2NyZWF0ZUNsYXNzIiwiZW5hYmxlVmFsaWRhdGlvbiIsIl9kZWZpbmVQcm9wZXJ0eSIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJfZW5hYmxlVmFsaWRhdGlvbiIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJzb21lIiwiYnV0dG9uRWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJBcnJheSIsImZyb20iLCJpbnB1dFNlbGVjdG9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvcm1TZWxlY3RvciIsIl9zZXRFdmVudExpc3RlbmVycyIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBUaXRsZSIsIl9idXR0b25DbG9zZSIsImltYWdlIiwidGV4dCIsInVzZXJQcm9maWxlIiwiYXBpIiwib3BlbiIsImNhcmRFbGVtZW50IiwiZGVsZXRlQ2FyZCIsImVycm9yIiwiZ2V0VXNlckluZm8iLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwiZ2V0Q2FyZHMiLCJpbmZvQ2FyZCIsImNhcmRzTGlzdCIsImdlbmVyYXRlQ2FyZCIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyIsImNhcmRGb3JtIiwiYWRkTmV3Q2FyZCIsIm5ld0NhcmQiLCJhZGRJdGVtVG9TdGFydCIsImZpbmFsbHkiLCJzZXRFdmVudExpc3RlbmVycyIsImVkaXRQcm9maWxlIiwiZWRpdFVzZXJJbmZvIiwiaW5mb1Byb2ZpbGUiLCJuZXdBdmF0YXIiLCJjaGFuZ2VBdmF0YXJQcm9maWxlIl0sInNvdXJjZVJvb3QiOiIifQ==